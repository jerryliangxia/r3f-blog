{"ast":null,"code":"function e(e, t) {\n  var n = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var r = Object.getOwnPropertySymbols(e);\n    t && (r = r.filter(function (t) {\n      return Object.getOwnPropertyDescriptor(e, t).enumerable;\n    })), n.push.apply(n, r);\n  }\n  return n;\n}\nfunction t(t) {\n  for (var n = 1; n < arguments.length; n++) {\n    var r = null != arguments[n] ? arguments[n] : {};\n    n % 2 ? e(Object(r), !0).forEach(function (e) {\n      s(t, e, r[e]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : e(Object(r)).forEach(function (e) {\n      Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(r, e));\n    });\n  }\n  return t;\n}\nfunction n(e) {\n  return n = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n    return typeof e;\n  } : function (e) {\n    return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n  }, n(e);\n}\nfunction r(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\nfunction i(e, t) {\n  for (var n = 0; n < t.length; n++) {\n    var r = t[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n  }\n}\nfunction o(e, t, n) {\n  return t && i(e.prototype, t), n && i(e, n), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nfunction s(e, t, n) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: n,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = n, e;\n}\nfunction a(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), t && c(e, t);\n}\nfunction u(e) {\n  return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  }, u(e);\n}\nfunction c(e, t) {\n  return c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) {\n    return e.__proto__ = t, e;\n  }, c(e, t);\n}\nfunction l(e, t) {\n  if (null == e) return {};\n  var n,\n    r,\n    i = function (e, t) {\n      if (null == e) return {};\n      var n,\n        r,\n        i = {},\n        o = Object.keys(e);\n      for (r = 0; r < o.length; r++) n = o[r], t.indexOf(n) >= 0 || (i[n] = e[n]);\n      return i;\n    }(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < o.length; r++) n = o[r], t.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(e, n) && (i[n] = e[n]);\n  }\n  return i;\n}\nfunction d(e, t) {\n  if (t && (\"object\" == typeof t || \"function\" == typeof t)) return t;\n  if (void 0 !== t) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return function (e) {\n    if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    return e;\n  }(e);\n}\nfunction f(e) {\n  var t = function () {\n    if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n    if (Reflect.construct.sham) return !1;\n    if (\"function\" == typeof Proxy) return !0;\n    try {\n      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;\n    } catch (e) {\n      return !1;\n    }\n  }();\n  return function () {\n    var n,\n      r = u(e);\n    if (t) {\n      var i = u(this).constructor;\n      n = Reflect.construct(r, arguments, i);\n    } else n = r.apply(this, arguments);\n    return d(this, n);\n  };\n}\nfunction h(e, t) {\n  return function (e) {\n    if (Array.isArray(e)) return e;\n  }(e) || function (e, t) {\n    var n = null == e ? null : \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n    if (null == n) return;\n    var r,\n      i,\n      o = [],\n      s = !0,\n      a = !1;\n    try {\n      for (n = n.call(e); !(s = (r = n.next()).done) && (o.push(r.value), !t || o.length !== t); s = !0);\n    } catch (e) {\n      a = !0, i = e;\n    } finally {\n      try {\n        s || null == n.return || n.return();\n      } finally {\n        if (a) throw i;\n      }\n    }\n    return o;\n  }(e, t) || g(e, t) || function () {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }();\n}\nfunction p(e) {\n  return function (e) {\n    if (Array.isArray(e)) return _(e);\n  }(e) || function (e) {\n    if (\"undefined\" != typeof Symbol && null != e[Symbol.iterator] || null != e[\"@@iterator\"]) return Array.from(e);\n  }(e) || g(e) || function () {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }();\n}\nfunction g(e, t) {\n  if (e) {\n    if (\"string\" == typeof e) return _(e, t);\n    var n = Object.prototype.toString.call(e).slice(8, -1);\n    return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(e) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? _(e, t) : void 0;\n  }\n}\nfunction _(e, t) {\n  (null == t || t > e.length) && (t = e.length);\n  for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];\n  return r;\n}\nfunction v(e, t) {\n  var n = \"undefined\" != typeof Symbol && e[Symbol.iterator] || e[\"@@iterator\"];\n  if (!n) {\n    if (Array.isArray(e) || (n = g(e)) || t && e && \"number\" == typeof e.length) {\n      n && (e = n);\n      var r = 0,\n        i = function () {};\n      return {\n        s: i,\n        n: function () {\n          return r >= e.length ? {\n            done: !0\n          } : {\n            done: !1,\n            value: e[r++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: i\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var o,\n    s = !0,\n    a = !1;\n  return {\n    s: function () {\n      n = n.call(e);\n    },\n    n: function () {\n      var e = n.next();\n      return s = e.done, e;\n    },\n    e: function (e) {\n      a = !0, o = e;\n    },\n    f: function () {\n      try {\n        s || null == n.return || n.return();\n      } finally {\n        if (a) throw o;\n      }\n    }\n  };\n}\nvar m = {\n    DEBUG: !1,\n    LIB_VERSION: \"1.82.0\"\n  },\n  y = Array.prototype,\n  b = Object.prototype,\n  w = b.toString,\n  k = b.hasOwnProperty,\n  S = \"undefined\" != typeof window ? window : {},\n  E = S.navigator || {\n    userAgent: \"\"\n  },\n  x = S.document || {},\n  P = E.userAgent,\n  F = [\"localhost\", \"127.0.0.1\"],\n  I = y.forEach,\n  O = y.indexOf,\n  $ = Array.isArray,\n  R = {},\n  T = {\n    log: function () {\n      if (m.DEBUG && !q(window.console) && window.console) {\n        for (var e = (\"__rrweb_original__\" in window.console.log) ? window.console.log.__rrweb_original__ : window.console.log, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];\n        try {\n          e.apply(window.console, n);\n        } catch (t) {\n          A(n, function (t) {\n            e(t);\n          });\n        }\n      }\n    },\n    error: function () {\n      if (m.DEBUG && !q(window.console) && window.console) {\n        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];\n        var r = [\"PostHog error:\"].concat(t),\n          i = \"__rrweb_original__\" in window.console.error ? window.console.error.__rrweb_original__ : window.console.error;\n        try {\n          i.apply(window.console, r);\n        } catch (e) {\n          A(r, function (e) {\n            i(e);\n          });\n        }\n      }\n    },\n    critical: function () {\n      if (!q(window.console) && window.console) {\n        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];\n        var r = [\"PostHog error:\"].concat(t),\n          i = \"__rrweb_original__\" in window.console.error ? window.console.error.__rrweb_original__ : window.console.error;\n        try {\n          i.apply(window.console, r);\n        } catch (e) {\n          A(r, function (e) {\n            i(e);\n          });\n        }\n      }\n    },\n    unintializedWarning: function (e) {\n      m.DEBUG && !q(window.console) && window.console && T.error(\"[PostHog] You must initialize PostHog before calling \".concat(e));\n    }\n  },\n  M = function (e) {\n    return e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\");\n  };\nfunction A(e, t, n) {\n  if (Array.isArray(e)) if (I && e.forEach === I) e.forEach(t, n);else if (\"length\" in e && e.length === +e.length) for (var r = 0, i = e.length; r < i; r++) if (r in e && t.call(n, e[r], r) === R) return;\n}\nfunction C(e, t, n) {\n  if (null != e) {\n    if (Array.isArray(e)) return A(e, t, n);\n    for (var r in e) if (k.call(e, r) && t.call(n, e[r], r) === R) return;\n  }\n}\nvar D = function (e) {\n    for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];\n    return A(n, function (t) {\n      for (var n in t) void 0 !== t[n] && (e[n] = t[n]);\n    }), e;\n  },\n  j = $ || function (e) {\n    return \"[object Array]\" === w.call(e);\n  },\n  N = function (e) {\n    try {\n      return /^\\s*\\bfunction\\b/.test(e);\n    } catch (e) {\n      return !1;\n    }\n  };\nfunction H(e, t) {\n  return -1 !== e.indexOf(t);\n}\nvar L = function (e) {\n    return e === Object(e) && !j(e);\n  },\n  B = function (e) {\n    if (L(e)) {\n      for (var t in e) if (k.call(e, t)) return !1;\n      return !0;\n    }\n    return !1;\n  },\n  q = function (e) {\n    return void 0 === e;\n  },\n  U = function (e) {\n    return \"[object String]\" == w.call(e);\n  },\n  V = function (e) {\n    return \"[object Number]\" == w.call(e);\n  },\n  G = function (e, t) {\n    return !!function (e) {\n      try {\n        new RegExp(e);\n      } catch (e) {\n        return !1;\n      }\n      return !0;\n    }(t) && new RegExp(t).test(e);\n  },\n  z = function () {\n    return Date.now = Date.now || function () {\n      return +new Date();\n    }, Date.now();\n  },\n  W = function (e) {\n    return function () {\n      try {\n        for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];\n        return e.apply(this, n);\n      } catch (e) {\n        T.critical(\"Implementation error. Please turn on debug and contact support@posthog.com.\"), T.critical(e);\n      }\n    };\n  },\n  Y = function (e) {\n    var t = {};\n    return C(e, function (e, n) {\n      U(e) && e.length > 0 && (t[n] = e);\n    }), t;\n  };\nvar Q = [\"$performance_raw\"];\nfunction J(e, t) {\n  return n = e, r = function (e, n) {\n    return n && Q.indexOf(n) > -1 ? e : \"string\" == typeof e && null !== t ? e.slice(0, t) : e;\n  }, i = new Set(), function e(t, n) {\n    return t !== Object(t) ? r ? r(t, n) : t : i.has(t) ? void 0 : (i.add(t), j(t) ? (o = [], A(t, function (t) {\n      o.push(e(t));\n    })) : (o = {}, C(t, function (t, n) {\n      i.has(t) || (o[n] = e(t, n));\n    })), o);\n    var o;\n  }(n);\n  var n, r, i;\n}\nfunction X(e) {\n  var t,\n    n,\n    r,\n    i,\n    o,\n    s = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n    a = 0,\n    u = 0,\n    c = \"\",\n    l = [];\n  if (!e) return e;\n  e = K(e);\n  do {\n    t = (o = e.charCodeAt(a++) << 16 | e.charCodeAt(a++) << 8 | e.charCodeAt(a++)) >> 18 & 63, n = o >> 12 & 63, r = o >> 6 & 63, i = 63 & o, l[u++] = s.charAt(t) + s.charAt(n) + s.charAt(r) + s.charAt(i);\n  } while (a < e.length);\n  switch (c = l.join(\"\"), e.length % 3) {\n    case 1:\n      c = c.slice(0, -2) + \"==\";\n      break;\n    case 2:\n      c = c.slice(0, -1) + \"=\";\n  }\n  return c;\n}\nvar K = function (e) {\n    var t,\n      n,\n      r,\n      i,\n      o = \"\";\n    for (t = n = 0, r = (e = (e + \"\").replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\")).length, i = 0; i < r; i++) {\n      var s = e.charCodeAt(i),\n        a = null;\n      s < 128 ? n++ : a = s > 127 && s < 2048 ? String.fromCharCode(s >> 6 | 192, 63 & s | 128) : String.fromCharCode(s >> 12 | 224, s >> 6 & 63 | 128, 63 & s | 128), null !== a && (n > t && (o += e.substring(t, n)), o += a, t = n = i + 1);\n    }\n    return n > t && (o += e.substring(t, e.length)), o;\n  },\n  Z = [\"ahrefsbot\", \"applebot\", \"baiduspider\", \"bingbot\", \"bingpreview\", \"bot.htm\", \"bot.php\", \"crawler\", \"duckduckbot\", \"facebookexternal\", \"facebookcatalog\", \"gptbot\", \"hubspot\", \"linkedinbot\", \"mj12bot\", \"petalbot\", \"pinterest\", \"prerender\", \"rogerbot\", \"screaming frog\", \"semrushbot\", \"sitebulb\", \"twitterbot\", \"yahoo! slurp\", \"yandexbot\", \"adsbot-google\", \"apis-google\", \"duplexweb-google\", \"feedfetcher-google\", \"google favicon\", \"google web preview\", \"google-read-aloud\", \"googlebot\", \"googleweblight\", \"mediapartners-google\", \"storebot-google\"],\n  ee = function (e, t) {\n    return Z.concat(t).some(function (t) {\n      return e.includes ? e.includes(t) : -1 !== e.indexOf(t);\n    });\n  },\n  te = function (e, t) {\n    var n = t.replace(/[[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\"),\n      r = new RegExp(\"[\\\\?&]\" + n + \"=([^&#]*)\").exec(e);\n    if (null === r || r && \"string\" != typeof r[1] && r[1].length) return \"\";\n    var i = r[1];\n    try {\n      i = decodeURIComponent(i);\n    } catch (e) {\n      T.error(\"Skipping decoding for malformed query param: \" + i);\n    }\n    return i.replace(/\\+/g, \" \");\n  },\n  ne = function (e, t) {\n    var n = e.match(new RegExp(t + \"=([^&]*)\"));\n    return n ? n[1] : null;\n  },\n  re = function () {\n    function e(t) {\n      return t && (t.preventDefault = e.preventDefault, t.stopPropagation = e.stopPropagation), t;\n    }\n    return e.preventDefault = function () {\n      this.returnValue = !1;\n    }, e.stopPropagation = function () {\n      this.cancelBubble = !0;\n    }, function (t, n, r, i, o) {\n      if (t) {\n        if (t.addEventListener && !i) t.addEventListener(n, r, !!o);else {\n          var s = \"on\" + n,\n            a = t[s];\n          t[s] = function (t, n, r) {\n            return function (i) {\n              if (i = i || e(window.event)) {\n                var o,\n                  s = !0;\n                N(r) && (o = r(i));\n                var a = n.call(t, i);\n                return !1 !== o && !1 !== a || (s = !1), s;\n              }\n            };\n          }(t, r, a);\n        }\n      } else T.error(\"No valid element provided to register_event\");\n    };\n  }();\nfunction ie(e, t) {\n  var n = function () {\n    var n = x.createElement(\"script\");\n    n.type = \"text/javascript\", n.src = e, n.onload = function (e) {\n      return t(void 0, e);\n    }, n.onerror = function (e) {\n      return t(e);\n    };\n    var r,\n      i = x.querySelectorAll(\"body > script\");\n    i.length > 0 ? null === (r = i[0].parentNode) || void 0 === r || r.insertBefore(n, i[0]) : x.body.appendChild(n);\n  };\n  x.body ? n() : x.addEventListener(\"DOMContentLoaded\", n);\n}\nvar oe = {\n  campaignParams: function (e) {\n    var t = [\"utm_source\", \"utm_medium\", \"utm_campaign\", \"utm_content\", \"utm_term\", \"gclid\", \"fbclid\", \"msclkid\"].concat(e || []),\n      n = {};\n    return C(t, function (e) {\n      var t = te(x.URL, e);\n      t.length && (n[e] = t);\n    }), n;\n  },\n  searchEngine: function () {\n    var e = x.referrer;\n    return e ? 0 === e.search(\"https?://(.*)google.([^/?]*)\") ? \"google\" : 0 === e.search(\"https?://(.*)bing.com\") ? \"bing\" : 0 === e.search(\"https?://(.*)yahoo.com\") ? \"yahoo\" : 0 === e.search(\"https?://(.*)duckduckgo.com\") ? \"duckduckgo\" : null : null;\n  },\n  searchInfo: function () {\n    var e = oe.searchEngine(),\n      t = \"yahoo\" != e ? \"q\" : \"p\",\n      n = {};\n    if (null !== e) {\n      n.$search_engine = e;\n      var r = te(x.referrer, t);\n      r.length && (n.ph_keyword = r);\n    }\n    return n;\n  },\n  browser: function (e, t, n) {\n    return t = t || \"\", n || H(e, \" OPR/\") ? H(e, \"Mini\") ? \"Opera Mini\" : \"Opera\" : /(BlackBerry|PlayBook|BB10)/i.test(e) ? \"BlackBerry\" : H(e, \"IEMobile\") || H(e, \"WPDesktop\") ? \"Internet Explorer Mobile\" : H(e, \"SamsungBrowser/\") ? \"Samsung Internet\" : H(e, \"Edge\") || H(e, \"Edg/\") ? \"Microsoft Edge\" : H(e, \"FBIOS\") ? \"Facebook Mobile\" : H(e, \"Chrome\") ? \"Chrome\" : H(e, \"CriOS\") ? \"Chrome iOS\" : H(e, \"UCWEB\") || H(e, \"UCBrowser\") ? \"UC Browser\" : H(e, \"FxiOS\") ? \"Firefox iOS\" : H(t, \"Apple\") ? H(e, \"Mobile\") ? \"Mobile Safari\" : \"Safari\" : H(e, \"Android\") ? \"Android Mobile\" : H(e, \"Konqueror\") ? \"Konqueror\" : H(e, \"Firefox\") ? \"Firefox\" : H(e, \"MSIE\") || H(e, \"Trident/\") ? \"Internet Explorer\" : H(e, \"Gecko\") ? \"Mozilla\" : \"\";\n  },\n  browserVersion: function (e, t, n) {\n    var r = {\n      \"Internet Explorer Mobile\": /rv:(\\d+(\\.\\d+)?)/,\n      \"Microsoft Edge\": /Edge?\\/(\\d+(\\.\\d+)?)/,\n      Chrome: /Chrome\\/(\\d+(\\.\\d+)?)/,\n      \"Chrome iOS\": /CriOS\\/(\\d+(\\.\\d+)?)/,\n      \"UC Browser\": /(UCBrowser|UCWEB)\\/(\\d+(\\.\\d+)?)/,\n      Safari: /Version\\/(\\d+(\\.\\d+)?)/,\n      \"Mobile Safari\": /Version\\/(\\d+(\\.\\d+)?)/,\n      Opera: /(Opera|OPR)\\/(\\d+(\\.\\d+)?)/,\n      Firefox: /Firefox\\/(\\d+(\\.\\d+)?)/,\n      \"Firefox iOS\": /FxiOS\\/(\\d+(\\.\\d+)?)/,\n      Konqueror: /Konqueror:(\\d+(\\.\\d+)?)/,\n      BlackBerry: /BlackBerry (\\d+(\\.\\d+)?)/,\n      \"Android Mobile\": /android\\s(\\d+(\\.\\d+)?)/,\n      \"Samsung Internet\": /SamsungBrowser\\/(\\d+(\\.\\d+)?)/,\n      \"Internet Explorer\": /(rv:|MSIE )(\\d+(\\.\\d+)?)/,\n      Mozilla: /rv:(\\d+(\\.\\d+)?)/\n    }[oe.browser(e, t, n)];\n    if (void 0 === r) return null;\n    var i = e.match(r);\n    return i ? parseFloat(i[i.length - 2]) : null;\n  },\n  browserLanguage: function () {\n    return E.language || E.userLanguage;\n  },\n  os: function (e) {\n    if (/Windows/i.test(e)) {\n      if (/Phone/.test(e) || /WPDesktop/.test(e)) return {\n        os_name: \"Windows Phone\",\n        os_version: \"\"\n      };\n      var t = /Windows NT ([0-9.]+)/i.exec(e);\n      return t && t[1] ? {\n        os_name: \"Windows\",\n        os_version: t[1]\n      } : {\n        os_name: \"Windows\",\n        os_version: \"\"\n      };\n    }\n    if (/(iPhone|iPad|iPod)/.test(e)) {\n      var n = /OS (\\d+)_(\\d+)_?(\\d+)?/i.exec(e);\n      return n && n[1] ? {\n        os_name: \"iOS\",\n        os_version: [n[1], n[2], n[3] || \"0\"].join(\".\")\n      } : {\n        os_name: \"iOS\",\n        os_version: \"\"\n      };\n    }\n    if (/Android/.test(e)) {\n      var r = /Android (\\d+)\\.(\\d+)\\.?(\\d+)?/i.exec(e);\n      return r && r[1] ? {\n        os_name: \"Android\",\n        os_version: [r[1], r[2], r[3] || \"0\"].join(\".\")\n      } : {\n        os_name: \"Android\",\n        os_version: \"\"\n      };\n    }\n    if (/(BlackBerry|PlayBook|BB10)/i.test(e)) return {\n      os_name: \"BlackBerry\",\n      os_version: \"\"\n    };\n    if (/Mac/i.test(e)) {\n      var i = /Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i.exec(e);\n      return i && i[1] ? {\n        os_name: \"Mac OS X\",\n        os_version: [i[1], i[2], i[3] || \"0\"].join(\".\")\n      } : {\n        os_name: \"Mac OS X\",\n        os_version: \"\"\n      };\n    }\n    return /Linux/.test(e) ? {\n      os_name: \"Linux\",\n      os_version: \"\"\n    } : /CrOS/.test(e) ? {\n      os_name: \"Chrome OS\",\n      os_version: \"\"\n    } : {\n      os_name: \"\",\n      os_version: \"\"\n    };\n  },\n  device: function (e) {\n    return /Windows Phone/i.test(e) || /WPDesktop/.test(e) ? \"Windows Phone\" : /iPad/.test(e) ? \"iPad\" : /iPod/.test(e) ? \"iPod Touch\" : /iPhone/.test(e) ? \"iPhone\" : /(BlackBerry|PlayBook|BB10)/i.test(e) ? \"BlackBerry\" : /Android/.test(e) && !/Mobile/.test(e) ? \"Android Tablet\" : /Android/.test(e) ? \"Android\" : \"\";\n  },\n  deviceType: function (e) {\n    var t = this.device(e);\n    return \"iPad\" === t || \"Android Tablet\" === t ? \"Tablet\" : t ? \"Mobile\" : \"Desktop\";\n  },\n  referrer: function () {\n    return x.referrer || \"$direct\";\n  },\n  referringDomain: function () {\n    if (!x.referrer) return \"$direct\";\n    var e = x.createElement(\"a\");\n    return e.href = x.referrer, e.host;\n  },\n  properties: function () {\n    var e = oe.os(P),\n      t = e.os_name,\n      n = e.os_version;\n    return D(Y({\n      $os: t,\n      $os_version: n,\n      $browser: oe.browser(P, E.vendor, S.opera),\n      $device: oe.device(P),\n      $device_type: oe.deviceType(P)\n    }), {\n      $current_url: null == S ? void 0 : S.location.href,\n      $host: null == S ? void 0 : S.location.host,\n      $pathname: null == S ? void 0 : S.location.pathname,\n      $browser_version: oe.browserVersion(P, E.vendor, S.opera),\n      $browser_language: oe.browserLanguage(),\n      $screen_height: null == S ? void 0 : S.screen.height,\n      $screen_width: null == S ? void 0 : S.screen.width,\n      $viewport_height: null == S ? void 0 : S.innerHeight,\n      $viewport_width: null == S ? void 0 : S.innerWidth,\n      $lib: \"web\",\n      $lib_version: m.LIB_VERSION,\n      $insert_id: Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10),\n      $time: z() / 1e3\n    });\n  },\n  people_properties: function () {\n    var e = oe.os(P),\n      t = e.os_name,\n      n = e.os_version;\n    return D(Y({\n      $os: t,\n      $os_version: n,\n      $browser: oe.browser(P, E.vendor, S.opera)\n    }), {\n      $browser_version: oe.browserVersion(P, E.vendor, S.opera)\n    });\n  }\n};\nfunction se(e) {\n  switch (n(e.className)) {\n    case \"string\":\n      return e.className;\n    case \"object\":\n      return (\"baseVal\" in e.className ? e.className.baseVal : null) || e.getAttribute(\"class\") || \"\";\n    default:\n      return \"\";\n  }\n}\nfunction ae(e) {\n  var t = \"\";\n  return he(e) && !pe(e) && e.childNodes && e.childNodes.length && C(e.childNodes, function (e) {\n    le(e) && e.textContent && (t += M(e.textContent).split(/(\\s+)/).filter(ge).join(\"\").replace(/[\\r\\n]/g, \" \").replace(/[ ]+/g, \" \").substring(0, 255));\n  }), M(t);\n}\nfunction ue(e) {\n  return !!e && 1 === e.nodeType;\n}\nfunction ce(e, t) {\n  return !!e && !!e.tagName && e.tagName.toLowerCase() === t.toLowerCase();\n}\nfunction le(e) {\n  return !!e && 3 === e.nodeType;\n}\nfunction de(e) {\n  return !!e && 11 === e.nodeType;\n}\nvar fe = [\"a\", \"button\", \"form\", \"input\", \"select\", \"textarea\", \"label\"];\nfunction he(e) {\n  for (var t = e; t.parentNode && !ce(t, \"body\"); t = t.parentNode) {\n    var n = se(t).split(\" \");\n    if (H(n, \"ph-sensitive\") || H(n, \"ph-no-capture\")) return !1;\n  }\n  if (H(se(e).split(\" \"), \"ph-include\")) return !0;\n  var r = e.type || \"\";\n  if (\"string\" == typeof r) switch (r.toLowerCase()) {\n    case \"hidden\":\n    case \"password\":\n      return !1;\n  }\n  var i = e.name || e.id || \"\";\n  if (\"string\" == typeof i) {\n    if (/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g, \"\"))) return !1;\n  }\n  return !0;\n}\nfunction pe(e) {\n  return !!(ce(e, \"input\") && ![\"button\", \"checkbox\", \"submit\", \"reset\"].includes(e.type) || ce(e, \"select\") || ce(e, \"textarea\") || \"true\" === e.getAttribute(\"contenteditable\"));\n}\nfunction ge(e) {\n  if (null === e || q(e)) return !1;\n  if (\"string\" == typeof e) {\n    e = M(e);\n    if (/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e || \"\").replace(/[- ]/g, \"\"))) return !1;\n    if (/(^\\d{3}-?\\d{2}-?\\d{4}$)/.test(e)) return !1;\n  }\n  return !0;\n}\nfunction _e(e) {\n  var t = ae(e);\n  return ge(t = \"\".concat(t, \" \").concat(ve(e)).trim()) ? t : \"\";\n}\nfunction ve(e) {\n  var t = \"\";\n  return e && e.childNodes && e.childNodes.length && C(e.childNodes, function (e) {\n    var n;\n    if (e && \"span\" === (null === (n = e.tagName) || void 0 === n ? void 0 : n.toLowerCase())) try {\n      var r = ae(e);\n      t = \"\".concat(t, \" \").concat(r).trim(), e.childNodes && e.childNodes.length && (t = \"\".concat(t, \" \").concat(ve(e)).trim());\n    } catch (e) {\n      console.error(e);\n    }\n  }), t;\n}\nvar me = function () {\n    function e(t) {\n      r(this, e), this.clicks = [], this.enabled = t;\n    }\n    return o(e, [{\n      key: \"isRageClick\",\n      value: function (e, t, n) {\n        if (!this.enabled) return !1;\n        var r = this.clicks[this.clicks.length - 1];\n        if (r && Math.abs(e - r.x) + Math.abs(t - r.y) < 30 && n - r.timestamp < 1e3) {\n          if (this.clicks.push({\n            x: e,\n            y: t,\n            timestamp: n\n          }), 3 === this.clicks.length) return !0;\n        } else this.clicks = [{\n          x: e,\n          y: t,\n          timestamp: n\n        }];\n        return !1;\n      }\n    }]), e;\n  }(),\n  ye = \"$people_distinct_id\",\n  be = \"__alias\",\n  we = \"__timers\",\n  ke = \"$autocapture_disabled_server_side\",\n  Se = \"$session_recording_enabled_server_side\",\n  Ee = \"$console_log_recording_enabled_server_side\",\n  xe = \"$session_recording_recorder_version_server_side\",\n  Pe = \"$sesid\",\n  Fe = \"$enabled_feature_flags\",\n  Ie = \"$early_access_features\",\n  Oe = \"$stored_person_properties\",\n  $e = \"$stored_group_properties\",\n  Re = \"$surveys\",\n  Te = \"$flag_call_reported\",\n  Me = \"$user_state\",\n  Ae = \"$posthog_quota_limited\",\n  Ce = [ye, be, \"__cmpns\", we, Se, Pe, Fe, Me, Ae, Ie, $e, Oe, Re, Te];\nfunction De(e, t) {\n  return t.length > e ? t.slice(0, e) + \"...\" : t;\n}\nvar je = {\n  _initializedTokens: [],\n  _isDisabledServerSide: null,\n  _isAutocaptureEnabled: !1,\n  _setIsAutocaptureEnabled: function (e) {\n    var t,\n      n = null === this._isDisabledServerSide ? !(null === (t = e.persistence) || void 0 === t || !t.props[ke]) : this._isDisabledServerSide,\n      r = !!e.config.autocapture;\n    this._isAutocaptureEnabled = r && !n;\n  },\n  _previousElementSibling: function (e) {\n    if (e.previousElementSibling) return e.previousElementSibling;\n    var t = e;\n    do {\n      t = t.previousSibling;\n    } while (t && !ue(t));\n    return t;\n  },\n  _getAugmentPropertiesFromElement: function (e) {\n    if (!he(e)) return {};\n    var t = {};\n    return C(e.attributes, function (e) {\n      if (0 === e.name.indexOf(\"data-ph-capture-attribute\")) {\n        var n = e.name.replace(\"data-ph-capture-attribute-\", \"\"),\n          r = e.value;\n        n && r && ge(r) && (t[n] = r);\n      }\n    }), t;\n  },\n  _getPropertiesFromElement: function (e, t, n) {\n    var r,\n      i = e.tagName.toLowerCase(),\n      o = {\n        tag_name: i\n      };\n    fe.indexOf(i) > -1 && !n && (\"a\" === i.toLowerCase() || \"button\" === i.toLowerCase() ? o.$el_text = De(1024, _e(e)) : o.$el_text = De(1024, ae(e)));\n    var s = se(e);\n    s.length > 0 && (o.classes = s.split(\" \").filter(function (e) {\n      return \"\" !== e;\n    }));\n    var a = null === (r = this.config) || void 0 === r ? void 0 : r.element_attribute_ignorelist;\n    C(e.attributes, function (n) {\n      var r;\n      pe(e) && -1 === [\"name\", \"id\", \"class\"].indexOf(n.name) || null != a && a.includes(n.name) || !t && ge(n.value) && (\"string\" != typeof (r = n.name) || \"_ngcontent\" !== r.substring(0, 10) && \"_nghost\" !== r.substring(0, 7)) && (o[\"attr__\" + n.name] = De(1024, n.value));\n    });\n    for (var u = 1, c = 1, l = e; l = this._previousElementSibling(l);) u++, l.tagName === e.tagName && c++;\n    return o.nth_child = u, o.nth_of_type = c, o;\n  },\n  _getDefaultProperties: function (e) {\n    return {\n      $event_type: e,\n      $ce_version: 1\n    };\n  },\n  _extractCustomPropertyValue: function (e) {\n    var t = [];\n    return C(document.querySelectorAll(e.css_selector), function (e) {\n      var n;\n      [\"input\", \"select\"].indexOf(e.tagName.toLowerCase()) > -1 ? n = e.value : e.textContent && (n = e.textContent), ge(n) && t.push(n);\n    }), t.join(\", \");\n  },\n  _getCustomProperties: function (e) {\n    var t = this,\n      n = {};\n    return C(this._customProperties, function (r) {\n      C(r.event_selectors, function (i) {\n        C(document.querySelectorAll(i), function (i) {\n          H(e, i) && he(i) && (n[r.name] = t._extractCustomPropertyValue(r));\n        });\n      });\n    }), n;\n  },\n  _getEventTarget: function (e) {\n    return void 0 === e.target ? e.srcElement || null : null !== (t = e.target) && void 0 !== t && t.shadowRoot ? e.composedPath()[0] || null : e.target || null;\n    var t;\n  },\n  _captureEvent: function (e, t) {\n    var n,\n      r = this,\n      i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"$autocapture\",\n      o = this._getEventTarget(e);\n    (le(o) && (o = o.parentNode || null), \"$autocapture\" === i && \"click\" === e.type && e instanceof MouseEvent) && null !== (n = this.rageclicks) && void 0 !== n && n.isRageClick(e.clientX, e.clientY, new Date().getTime()) && this._captureEvent(e, t, \"$rageclick\");\n    if (o && function (e, t) {\n      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;\n      if (!e || ce(e, \"html\") || !ue(e)) return !1;\n      if (null != n && n.url_allowlist) {\n        var r = window.location.href,\n          i = n.url_allowlist;\n        if (i && !i.some(function (e) {\n          return r.match(e);\n        })) return !1;\n      }\n      if (null != n && n.dom_event_allowlist) {\n        var o = n.dom_event_allowlist;\n        if (o && !o.some(function (e) {\n          return t.type === e;\n        })) return !1;\n      }\n      if (null != n && n.element_allowlist) {\n        var s = n.element_allowlist;\n        if (s && !s.some(function (t) {\n          return e.tagName.toLowerCase() === t;\n        })) return !1;\n      }\n      if (null != n && n.css_selector_allowlist) {\n        var a = n.css_selector_allowlist;\n        if (a && !a.some(function (t) {\n          return e.matches(t);\n        })) return !1;\n      }\n      for (var u = !1, c = [e], l = !0, d = e; d.parentNode && !ce(d, \"body\");) if (de(d.parentNode)) c.push(d.parentNode.host), d = d.parentNode.host;else {\n        if (!(l = d.parentNode || !1)) break;\n        if (fe.indexOf(l.tagName.toLowerCase()) > -1) u = !0;else {\n          var f = window.getComputedStyle(l);\n          f && \"pointer\" === f.getPropertyValue(\"cursor\") && (u = !0);\n        }\n        c.push(l), d = l;\n      }\n      var h = window.getComputedStyle(e);\n      if (h && \"pointer\" === h.getPropertyValue(\"cursor\") && \"click\" === t.type) return !0;\n      var p = e.tagName.toLowerCase();\n      switch (p) {\n        case \"html\":\n          return !1;\n        case \"form\":\n          return \"submit\" === t.type;\n        case \"input\":\n        case \"select\":\n        case \"textarea\":\n          return \"change\" === t.type || \"click\" === t.type;\n        default:\n          return u ? \"click\" === t.type : \"click\" === t.type && (fe.indexOf(p) > -1 || \"true\" === e.getAttribute(\"contenteditable\"));\n      }\n    }(o, e, this.config)) {\n      for (var s, a, u = [o], c = o; c.parentNode && !ce(c, \"body\");) de(c.parentNode) ? (u.push(c.parentNode.host), c = c.parentNode.host) : (u.push(c.parentNode), c = c.parentNode);\n      var l,\n        d = [],\n        f = {},\n        h = !1;\n      if (C(u, function (e) {\n        var n = he(e);\n        \"a\" === e.tagName.toLowerCase() && (l = e.getAttribute(\"href\"), l = n && ge(l) && l), H(se(e).split(\" \"), \"ph-no-capture\") && (h = !0), d.push(r._getPropertiesFromElement(e, t.config.mask_all_element_attributes, t.config.mask_all_text));\n        var i = r._getAugmentPropertiesFromElement(e);\n        D(f, i);\n      }), t.config.mask_all_text || (\"a\" === o.tagName.toLowerCase() || \"button\" === o.tagName.toLowerCase() ? d[0].$el_text = _e(o) : d[0].$el_text = ae(o)), l && (d[0].attr__href = l), h) return !1;\n      var p = D(this._getDefaultProperties(e.type), {\n        $elements: d\n      }, null !== (s = d[0]) && void 0 !== s && s.$el_text ? {\n        $el_text: null === (a = d[0]) || void 0 === a ? void 0 : a.$el_text\n      } : {}, this._getCustomProperties(u), f);\n      return t.capture(i, p), !0;\n    }\n  },\n  _navigate: function (e) {\n    window.location.href = e;\n  },\n  _addDomEventHandlers: function (e) {\n    var t = this,\n      n = function (n) {\n        n = n || window.event, t._captureEvent(n, e);\n      };\n    re(document, \"submit\", n, !1, !0), re(document, \"change\", n, !1, !0), re(document, \"click\", n, !1, !0);\n  },\n  _customProperties: [],\n  rageclicks: null,\n  config: void 0,\n  init: function (e) {\n    var t;\n    \"boolean\" != typeof e.__autocapture && (this.config = e.__autocapture), null !== (t = this.config) && void 0 !== t && t.url_allowlist && (this.config.url_allowlist = this.config.url_allowlist.map(function (e) {\n      return new RegExp(e);\n    })), this.rageclicks = new me(e.config.rageclick);\n  },\n  afterDecideResponse: function (e, t) {\n    var n = t.config.token;\n    this._initializedTokens.indexOf(n) > -1 ? T.log('autocapture already initialized for token \"' + n + '\"') : (t.persistence && t.persistence.register(s({}, ke, !!e.autocapture_opt_out)), this._isDisabledServerSide = !!e.autocapture_opt_out, this._setIsAutocaptureEnabled(t), this._initializedTokens.push(n), e && e.config && e.config.enable_collect_everything && this._isAutocaptureEnabled ? (e.custom_properties && (this._customProperties = e.custom_properties), this._addDomEventHandlers(t)) : t.__autocapture = !1);\n  },\n  enabledForProject: function (e, t, n) {\n    if (!e) return !0;\n    t = q(t) ? 10 : t, n = q(n) ? 10 : n;\n    for (var r = 0, i = 0; i < e.length; i++) r += e.charCodeAt(i);\n    return r % t < n;\n  },\n  isBrowserSupported: function () {\n    return N(document.querySelectorAll);\n  }\n};\n!function (e) {\n  for (var t in e) \"function\" == typeof e[t] && (e[t] = e[t].bind(e));\n}(je), function (e) {\n  for (var t in e) \"function\" == typeof e[t] && (e[t] = W(e[t]));\n}(je);\nvar Ne = \"$active_feature_flags\",\n  He = \"$override_feature_flags\",\n  Le = \"$feature_flag_payloads\",\n  Be = function (e) {\n    var t,\n      n = {},\n      r = v(function (e) {\n        for (var t = Object.keys(e), n = t.length, r = new Array(n); n--;) r[n] = [t[n], e[t[n]]];\n        return r;\n      }(e || {}));\n    try {\n      for (r.s(); !(t = r.n()).done;) {\n        var i = h(t.value, 2),\n          o = i[0],\n          s = i[1];\n        s && (n[o] = s);\n      }\n    } catch (e) {\n      r.e(e);\n    } finally {\n      r.f();\n    }\n    return n;\n  },\n  qe = function () {\n    function e(t) {\n      r(this, e), this.instance = t, this._override_warning = !1, this.featureFlagEventHandlers = [], this.reloadFeatureFlagsQueued = !1, this.reloadFeatureFlagsInAction = !1;\n    }\n    return o(e, [{\n      key: \"getFlags\",\n      value: function () {\n        return Object.keys(this.getFlagVariants());\n      }\n    }, {\n      key: \"getFlagVariants\",\n      value: function () {\n        var e = this.instance.get_property(Fe),\n          t = this.instance.get_property(He);\n        if (!t) return e || {};\n        for (var n = D({}, e), r = Object.keys(t), i = 0; i < r.length; i++) !1 === t[r[i]] ? delete n[r[i]] : n[r[i]] = t[r[i]];\n        return this._override_warning || (console.warn(\"[PostHog] Overriding feature flags!\", {\n          enabledFlags: e,\n          overriddenFlags: t,\n          finalFlags: n\n        }), this._override_warning = !0), n;\n      }\n    }, {\n      key: \"getFlagPayloads\",\n      value: function () {\n        return this.instance.get_property(Le) || {};\n      }\n    }, {\n      key: \"reloadFeatureFlags\",\n      value: function () {\n        this.reloadFeatureFlagsQueued || (this.reloadFeatureFlagsQueued = !0, this._startReloadTimer());\n      }\n    }, {\n      key: \"setAnonymousDistinctId\",\n      value: function (e) {\n        this.$anon_distinct_id = e;\n      }\n    }, {\n      key: \"setReloadingPaused\",\n      value: function (e) {\n        this.reloadFeatureFlagsInAction = e;\n      }\n    }, {\n      key: \"resetRequestQueue\",\n      value: function () {\n        this.reloadFeatureFlagsQueued = !1;\n      }\n    }, {\n      key: \"_startReloadTimer\",\n      value: function () {\n        var e = this;\n        this.reloadFeatureFlagsQueued && !this.reloadFeatureFlagsInAction && setTimeout(function () {\n          !e.reloadFeatureFlagsInAction && e.reloadFeatureFlagsQueued && (e.reloadFeatureFlagsQueued = !1, e._reloadFeatureFlagsRequest());\n        }, 5);\n      }\n    }, {\n      key: \"_reloadFeatureFlagsRequest\",\n      value: function () {\n        var e = this;\n        this.setReloadingPaused(!0);\n        var t = this.instance.config.token,\n          n = this.instance.get_property(Oe),\n          r = this.instance.get_property($e),\n          i = X(JSON.stringify({\n            token: t,\n            distinct_id: this.instance.get_distinct_id(),\n            groups: this.instance.getGroups(),\n            $anon_distinct_id: this.$anon_distinct_id,\n            person_properties: n,\n            group_properties: r,\n            disable_flags: this.instance.config.advanced_disable_feature_flags || void 0\n          }));\n        this.instance._send_request(this.instance.config.api_host + \"/decide/?v=3\", {\n          data: i\n        }, {\n          method: \"POST\"\n        }, this.instance._prepare_callback(function (t) {\n          e.$anon_distinct_id = void 0, e.receivedFeatureFlags(t), e.setReloadingPaused(!1), e._startReloadTimer();\n        }));\n      }\n    }, {\n      key: \"getFeatureFlag\",\n      value: function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        if (this.instance.decideEndpointWasHit || this.getFlags() && this.getFlags().length > 0) {\n          var n,\n            r = this.getFlagVariants()[e],\n            i = \"\".concat(r),\n            o = this.instance.get_property(Te) || {};\n          if (t.send_event || !(\"send_event\" in t)) if (!(e in o) || !o[e].includes(i)) Array.isArray(o[e]) ? o[e].push(i) : o[e] = [i], null === (n = this.instance.persistence) || void 0 === n || n.register(s({}, Te, o)), this.instance.capture(\"$feature_flag_called\", {\n            $feature_flag: e,\n            $feature_flag_response: r\n          });\n          return r;\n        }\n        console.warn('getFeatureFlag for key \"' + e + \"\\\" failed. Feature flags didn't load in time.\");\n      }\n    }, {\n      key: \"getFeatureFlagPayload\",\n      value: function (e) {\n        return this.getFlagPayloads()[e];\n      }\n    }, {\n      key: \"isFeatureEnabled\",\n      value: function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        if (this.instance.decideEndpointWasHit || this.getFlags() && this.getFlags().length > 0) return !!this.getFeatureFlag(e, t);\n        console.warn('isFeatureEnabled for key \"' + e + \"\\\" failed. Feature flags didn't load in time.\");\n      }\n    }, {\n      key: \"addFeatureFlagsHandler\",\n      value: function (e) {\n        this.featureFlagEventHandlers.push(e);\n      }\n    }, {\n      key: \"removeFeatureFlagsHandler\",\n      value: function (e) {\n        this.featureFlagEventHandlers = this.featureFlagEventHandlers.filter(function (t) {\n          return t !== e;\n        });\n      }\n    }, {\n      key: \"receivedFeatureFlags\",\n      value: function (e) {\n        if (this.instance.persistence) {\n          this.instance.decideEndpointWasHit = !0;\n          var n = this.getFlagVariants(),\n            r = this.getFlagPayloads();\n          !function (e, n) {\n            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},\n              i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},\n              o = e.featureFlags,\n              a = e.featureFlagPayloads;\n            if (o) if (Array.isArray(o)) {\n              var u,\n                c = {};\n              if (o) for (var l = 0; l < o.length; l++) c[o[l]] = !0;\n              n && n.register((s(u = {}, Ne, o), s(u, Fe, c), u));\n            } else {\n              var d,\n                f = o,\n                h = a;\n              e.errorsWhileComputingFlags && (f = t(t({}, r), f), h = t(t({}, i), h)), n && n.register((s(d = {}, Ne, Object.keys(Be(f))), s(d, Fe, f || {}), s(d, Le, h || {}), d));\n            }\n          }(e, this.instance.persistence, n, r), this._fireFeatureFlagsCallbacks();\n        }\n      }\n    }, {\n      key: \"override\",\n      value: function (e) {\n        if (!this.instance.__loaded || !this.instance.persistence) return T.unintializedWarning(\"posthog.feature_flags.override\");\n        if (this._override_warning = !1, !1 === e) this.instance.persistence.unregister(He);else if (Array.isArray(e)) {\n          for (var t = {}, n = 0; n < e.length; n++) t[e[n]] = !0;\n          this.instance.persistence.register(s({}, He, t));\n        } else this.instance.persistence.register(s({}, He, e));\n      }\n    }, {\n      key: \"onFeatureFlags\",\n      value: function (e) {\n        var t = this;\n        if (this.addFeatureFlagsHandler(e), this.instance.decideEndpointWasHit) {\n          var n = this._prepareFeatureFlagsForCallbacks(),\n            r = n.flags,\n            i = n.flagVariants;\n          e(r, i);\n        }\n        return function () {\n          return t.removeFeatureFlagsHandler(e);\n        };\n      }\n    }, {\n      key: \"updateEarlyAccessFeatureEnrollment\",\n      value: function (e, n) {\n        var r,\n          i,\n          o = s({}, \"$feature_enrollment/\".concat(e), n);\n        this.instance.capture(\"$feature_enrollment_update\", {\n          $feature_flag: e,\n          $feature_enrollment: n,\n          $set: o\n        }), this.setPersonPropertiesForFlags(o, !1);\n        var a = t(t({}, this.getFlagVariants()), {}, s({}, e, n));\n        null === (r = this.instance.persistence) || void 0 === r || r.register((s(i = {}, Ne, Object.keys(Be(a))), s(i, Fe, a), i)), this._fireFeatureFlagsCallbacks();\n      }\n    }, {\n      key: \"getEarlyAccessFeatures\",\n      value: function (e) {\n        var t = this,\n          n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],\n          r = this.instance.get_property(Ie);\n        if (r && !n) return e(r);\n        this.instance._send_request(\"\".concat(this.instance.config.api_host, \"/api/early_access_features/?token=\").concat(this.instance.config.token), {}, {\n          method: \"GET\"\n        }, function (n) {\n          var r,\n            i = n.earlyAccessFeatures;\n          return null === (r = t.instance.persistence) || void 0 === r || r.register(s({}, Ie, i)), e(i);\n        });\n      }\n    }, {\n      key: \"_prepareFeatureFlagsForCallbacks\",\n      value: function () {\n        var e = this.getFlags(),\n          t = this.getFlagVariants();\n        return {\n          flags: e.filter(function (e) {\n            return t[e];\n          }),\n          flagVariants: Object.keys(t).filter(function (e) {\n            return t[e];\n          }).reduce(function (e, n) {\n            return e[n] = t[n], e;\n          }, {})\n        };\n      }\n    }, {\n      key: \"_fireFeatureFlagsCallbacks\",\n      value: function () {\n        var e = this._prepareFeatureFlagsForCallbacks(),\n          t = e.flags,\n          n = e.flagVariants;\n        this.featureFlagEventHandlers.forEach(function (e) {\n          return e(t, n);\n        });\n      }\n    }, {\n      key: \"setPersonPropertiesForFlags\",\n      value: function (e) {\n        var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],\n          r = this.instance.get_property(Oe) || {};\n        this.instance.register(s({}, Oe, t(t({}, r), e))), n && this.instance.reloadFeatureFlags();\n      }\n    }, {\n      key: \"resetPersonPropertiesForFlags\",\n      value: function () {\n        this.instance.unregister(Oe);\n      }\n    }, {\n      key: \"setGroupPropertiesForFlags\",\n      value: function (e) {\n        var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],\n          r = this.instance.get_property($e) || {};\n        0 !== Object.keys(r).length && Object.keys(r).forEach(function (n) {\n          r[n] = t(t({}, r[n]), e[n]), delete e[n];\n        }), this.instance.register(s({}, $e, t(t({}, r), e))), n && this.instance.reloadFeatureFlags();\n      }\n    }, {\n      key: \"resetGroupPropertiesForFlags\",\n      value: function (e) {\n        if (e) {\n          var n = this.instance.get_property($e) || {};\n          this.instance.register(s({}, $e, t(t({}, n), {}, s({}, e, {}))));\n        } else this.instance.unregister($e);\n      }\n    }]), e;\n  }(),\n  Ue = /[a-z0-9][a-z0-9-]+\\.[a-z.]{2,6}$/i,\n  Ve = {\n    is_supported: function () {\n      return !0;\n    },\n    error: function (e) {\n      T.error(\"cookieStore error: \" + e);\n    },\n    get: function (e) {\n      try {\n        for (var t = e + \"=\", n = document.cookie.split(\";\").filter(function (e) {\n            return e.length;\n          }), r = 0; r < n.length; r++) {\n          for (var i = n[r]; \" \" == i.charAt(0);) i = i.substring(1, i.length);\n          if (0 === i.indexOf(t)) return decodeURIComponent(i.substring(t.length, i.length));\n        }\n      } catch (e) {}\n      return null;\n    },\n    parse: function (e) {\n      var t;\n      try {\n        t = JSON.parse(Ve.get(e)) || {};\n      } catch (e) {}\n      return t;\n    },\n    set: function (e, t, n, r, i) {\n      try {\n        var o = \"\",\n          s = \"\",\n          a = \"\";\n        if (r) {\n          var u = document.location.hostname.match(Ue),\n            c = u ? u[0] : \"\";\n          o = c ? \"; domain=.\" + c : \"\";\n        }\n        if (n) {\n          var l = new Date();\n          l.setTime(l.getTime() + 24 * n * 60 * 60 * 1e3), s = \"; expires=\" + l.toUTCString();\n        }\n        i && (a = \"; secure\");\n        var d = e + \"=\" + encodeURIComponent(JSON.stringify(t)) + s + \"; SameSite=Lax; path=/\" + o + a;\n        return document.cookie = d, d;\n      } catch (e) {\n        return;\n      }\n    },\n    remove: function (e, t) {\n      try {\n        Ve.set(e, \"\", -1, t);\n      } catch (e) {\n        return;\n      }\n    }\n  },\n  Ge = null,\n  ze = {\n    is_supported: function () {\n      if (null !== Ge) return Ge;\n      var e = !0;\n      if (\"undefined\" != typeof window) try {\n        var t = \"__mplssupport__\";\n        ze.set(t, \"xyz\"), '\"xyz\"' !== ze.get(t) && (e = !1), ze.remove(t);\n      } catch (t) {\n        e = !1;\n      } else e = !1;\n      return e || T.error(\"localStorage unsupported; falling back to cookie store\"), Ge = e, e;\n    },\n    error: function (e) {\n      T.error(\"localStorage error: \" + e);\n    },\n    get: function (e) {\n      try {\n        return window.localStorage.getItem(e);\n      } catch (e) {\n        ze.error(e);\n      }\n      return null;\n    },\n    parse: function (e) {\n      try {\n        return JSON.parse(ze.get(e)) || {};\n      } catch (e) {}\n      return null;\n    },\n    set: function (e, t) {\n      try {\n        window.localStorage.setItem(e, JSON.stringify(t));\n      } catch (e) {\n        ze.error(e);\n      }\n    },\n    remove: function (e) {\n      try {\n        window.localStorage.removeItem(e);\n      } catch (e) {\n        ze.error(e);\n      }\n    }\n  },\n  We = [\"distinct_id\", Pe],\n  Ye = t(t({}, ze), {}, {\n    parse: function (e) {\n      try {\n        var t = {};\n        try {\n          t = Ve.parse(e) || {};\n        } catch (e) {}\n        var n = D(t, JSON.parse(ze.get(e) || \"{}\"));\n        return ze.set(e, n), n;\n      } catch (e) {}\n      return null;\n    },\n    set: function (e, t, n, r, i) {\n      try {\n        ze.set(e, t);\n        var o = {};\n        We.forEach(function (e) {\n          t[e] && (o[e] = t[e]);\n        }), Object.keys(o).length && Ve.set(e, o, n, r, i);\n      } catch (e) {\n        ze.error(e);\n      }\n    },\n    remove: function (e, t) {\n      try {\n        window.localStorage.removeItem(e), Ve.remove(e, t);\n      } catch (e) {\n        ze.error(e);\n      }\n    }\n  }),\n  Qe = {},\n  Je = {\n    is_supported: function () {\n      return !0;\n    },\n    error: function (e) {\n      T.error(\"memoryStorage error: \" + e);\n    },\n    get: function (e) {\n      return Qe[e] || null;\n    },\n    parse: function (e) {\n      return Qe[e] || null;\n    },\n    set: function (e, t) {\n      Qe[e] = t;\n    },\n    remove: function (e) {\n      delete Qe[e];\n    }\n  },\n  Xe = null,\n  Ke = {\n    is_supported: function () {\n      if (null !== Xe) return Xe;\n      if (Xe = !0, \"undefined\" != typeof window) try {\n        var e = \"__support__\";\n        Ke.set(e, \"xyz\"), '\"xyz\"' !== Ke.get(e) && (Xe = !1), Ke.remove(e);\n      } catch (e) {\n        Xe = !1;\n      } else Xe = !1;\n      return Xe;\n    },\n    error: function (e) {\n      m.DEBUG && T.error(\"sessionStorage error: \", e);\n    },\n    get: function (e) {\n      try {\n        return window.sessionStorage.getItem(e);\n      } catch (e) {\n        Ke.error(e);\n      }\n      return null;\n    },\n    parse: function (e) {\n      try {\n        return JSON.parse(Ke.get(e)) || null;\n      } catch (e) {}\n      return null;\n    },\n    set: function (e, t) {\n      try {\n        window.sessionStorage.setItem(e, JSON.stringify(t));\n      } catch (e) {\n        Ke.error(e);\n      }\n    },\n    remove: function (e) {\n      try {\n        window.sessionStorage.removeItem(e);\n      } catch (e) {\n        Ke.error(e);\n      }\n    }\n  },\n  Ze = [\"cookie\", \"localstorage\", \"localstorage+cookie\", \"sessionstorage\", \"memory\"],\n  et = function () {\n    function e(t) {\n      r(this, e);\n      var n = \"\";\n      t.token && (n = t.token.replace(/\\+/g, \"PL\").replace(/\\//g, \"SL\").replace(/=/g, \"EQ\")), this.props = {}, this.campaign_params_saved = !1, this.custom_campaign_params = t.custom_campaign_params || [], t.persistence_name ? this.name = \"ph_\" + t.persistence_name : this.name = \"ph_\" + n + \"_posthog\", -1 === Ze.indexOf(t.persistence.toLowerCase()) && (T.critical(\"Unknown persistence type \" + t.persistence + \"; falling back to cookie\"), t.persistence = \"cookie\");\n      var i = t.persistence.toLowerCase();\n      \"localstorage\" === i && ze.is_supported() ? this.storage = ze : \"localstorage+cookie\" === i && Ye.is_supported() ? this.storage = Ye : \"sessionstorage\" === i && Ke.is_supported() ? this.storage = Ke : this.storage = \"memory\" === i ? Je : Ve, this.user_state = \"anonymous\", this.load(), this.update_config(t), this.save();\n    }\n    return o(e, [{\n      key: \"properties\",\n      value: function () {\n        var e = {};\n        return C(this.props, function (t, r) {\n          if (r === Fe && \"object\" === n(t)) for (var i = Object.keys(t), o = 0; o < i.length; o++) e[\"$feature/\".concat(i[o])] = t[i[o]];else a = r, u = !1, (null === (s = Ce) ? u : O && s.indexOf === O ? -1 != s.indexOf(a) : (C(s, function (e) {\n            if (u || (u = e === a)) return R;\n          }), u)) || (e[r] = t);\n          var s, a, u;\n        }), e;\n      }\n    }, {\n      key: \"load\",\n      value: function () {\n        if (!this.disabled) {\n          var e = this.storage.parse(this.name);\n          e && (this.props = D({}, e));\n        }\n      }\n    }, {\n      key: \"save\",\n      value: function () {\n        this.disabled || this.storage.set(this.name, this.props, this.expire_days, this.cross_subdomain, this.secure);\n      }\n    }, {\n      key: \"remove\",\n      value: function () {\n        this.storage.remove(this.name, !1), this.storage.remove(this.name, !0);\n      }\n    }, {\n      key: \"clear\",\n      value: function () {\n        this.remove(), this.props = {};\n      }\n    }, {\n      key: \"register_once\",\n      value: function (e, t, n) {\n        var r = this;\n        if (L(e)) {\n          void 0 === t && (t = \"None\"), this.expire_days = void 0 === n ? this.default_expiry : n;\n          var i = !1;\n          if (C(e, function (e, n) {\n            r.props.hasOwnProperty(n) && r.props[n] !== t || (r.props[n] = e, i = !0);\n          }), i) return this.save(), !0;\n        }\n        return !1;\n      }\n    }, {\n      key: \"register\",\n      value: function (e, t) {\n        var n = this;\n        if (L(e)) {\n          this.expire_days = void 0 === t ? this.default_expiry : t;\n          var r = !1;\n          if (C(e, function (t, i) {\n            e.hasOwnProperty(i) && n.props[i] !== t && (n.props[i] = t, r = !0);\n          }), r) return this.save(), !0;\n        }\n        return !1;\n      }\n    }, {\n      key: \"unregister\",\n      value: function (e) {\n        e in this.props && (delete this.props[e], this.save());\n      }\n    }, {\n      key: \"update_campaign_params\",\n      value: function () {\n        this.campaign_params_saved || (this.register(oe.campaignParams(this.custom_campaign_params)), this.campaign_params_saved = !0);\n      }\n    }, {\n      key: \"update_search_keyword\",\n      value: function () {\n        this.register(oe.searchInfo());\n      }\n    }, {\n      key: \"update_referrer_info\",\n      value: function () {\n        this.register({\n          $referrer: this.props.$referrer || oe.referrer(),\n          $referring_domain: this.props.$referring_domain || oe.referringDomain()\n        });\n      }\n    }, {\n      key: \"get_referrer_info\",\n      value: function () {\n        return Y({\n          $referrer: this.props.$referrer,\n          $referring_domain: this.props.$referring_domain\n        });\n      }\n    }, {\n      key: \"safe_merge\",\n      value: function (e) {\n        return C(this.props, function (t, n) {\n          n in e || (e[n] = t);\n        }), e;\n      }\n    }, {\n      key: \"update_config\",\n      value: function (e) {\n        this.default_expiry = this.expire_days = e.cookie_expiration, this.set_disabled(e.disable_persistence), this.set_cross_subdomain(e.cross_subdomain_cookie), this.set_secure(e.secure_cookie);\n      }\n    }, {\n      key: \"set_disabled\",\n      value: function (e) {\n        this.disabled = e, this.disabled ? this.remove() : this.save();\n      }\n    }, {\n      key: \"set_cross_subdomain\",\n      value: function (e) {\n        e !== this.cross_subdomain && (this.cross_subdomain = e, this.remove(), this.save());\n      }\n    }, {\n      key: \"get_cross_subdomain\",\n      value: function () {\n        return !!this.cross_subdomain;\n      }\n    }, {\n      key: \"set_secure\",\n      value: function (e) {\n        e !== this.secure && (this.secure = e, this.remove(), this.save());\n      }\n    }, {\n      key: \"set_event_timer\",\n      value: function (e, t) {\n        var n = this.props[we] || {};\n        n[e] = t, this.props[we] = n, this.save();\n      }\n    }, {\n      key: \"remove_event_timer\",\n      value: function (e) {\n        var t = (this.props[we] || {})[e];\n        return q(t) || (delete this.props[we][e], this.save()), t;\n      }\n    }, {\n      key: \"get_user_state\",\n      value: function () {\n        return this.props[Me] || \"anonymous\";\n      }\n    }, {\n      key: \"set_user_state\",\n      value: function (e) {\n        this.props[Me] = e, this.save();\n      }\n    }, {\n      key: \"get_quota_limits\",\n      value: function () {\n        return this.props[Ae] || {};\n      }\n    }, {\n      key: \"set_quota_limits\",\n      value: function (e) {\n        this.props[Ae] = e, this.save();\n      }\n    }]), e;\n  }(),\n  tt = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNOCAwSDE2TDAgMTZWOEw4IDBaIiBmaWxsPSIjMkQyRDJEIi8+CjxwYXRoIGQ9Ik0xNiA4VjE2SDhMMTYgOFoiIGZpbGw9IiMyRDJEMkQiLz4KPC9zdmc+Cg==\",\n  nt = 2,\n  rt = 4,\n  it = 3,\n  ot = 6,\n  st = 0,\n  at = 5e6;\nvar ut = \"rrweb/console@1\";\nvar ct,\n  lt = o(function e(t) {\n    var n,\n      i,\n      o = this,\n      a = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n    r(this, e), s(this, \"bucketSize\", 100), s(this, \"refillRate\", 10), s(this, \"mutationBuckets\", {}), s(this, \"loggedTracker\", {}), s(this, \"refillBuckets\", function () {\n      Object.keys(o.mutationBuckets).forEach(function (e) {\n        o.mutationBuckets[e] = o.mutationBuckets[e] + o.refillRate, o.mutationBuckets[e] >= o.bucketSize && delete o.mutationBuckets[e];\n      });\n    }), s(this, \"getNodeOrRelevantParent\", function (e) {\n      var t = o.rrweb.mirror.getNode(e);\n      if (\"svg\" !== (null == t ? void 0 : t.nodeName) && t instanceof Element) {\n        var n = t.closest(\"svg\");\n        if (n) return [o.rrweb.mirror.getId(n), n];\n      }\n      return [e, t];\n    }), s(this, \"numberOfChanges\", function (e) {\n      var t, n, r, i, o, s, a, u;\n      return (null !== (t = null === (n = e.removes) || void 0 === n ? void 0 : n.length) && void 0 !== t ? t : 0) + (null !== (r = null === (i = e.attributes) || void 0 === i ? void 0 : i.length) && void 0 !== r ? r : 0) + (null !== (o = null === (s = e.texts) || void 0 === s ? void 0 : s.length) && void 0 !== o ? o : 0) + (null !== (a = null === (u = e.adds) || void 0 === u ? void 0 : u.length) && void 0 !== a ? a : 0);\n    }), s(this, \"throttleMutations\", function (e) {\n      if (e.type !== it || e.data.source !== st) return e;\n      var t = e.data,\n        n = o.numberOfChanges(t);\n      t.attributes && (t.attributes = t.attributes.filter(function (e) {\n        var t,\n          n,\n          r,\n          i = h(o.getNodeOrRelevantParent(e.id), 2),\n          s = i[0],\n          a = i[1];\n        if (0 === o.mutationBuckets[s]) return !1;\n        (o.mutationBuckets[s] = null !== (t = o.mutationBuckets[s]) && void 0 !== t ? t : o.bucketSize, o.mutationBuckets[s] = Math.max(o.mutationBuckets[s] - 1, 0), 0 === o.mutationBuckets[s]) && (o.loggedTracker[s] || (o.loggedTracker[s] = !0, null === (n = (r = o.options).onBlockedNode) || void 0 === n || n.call(r, s, a)));\n        return e;\n      }));\n      var r = o.numberOfChanges(t);\n      return 0 !== r || n === r ? e : void 0;\n    }), this.rrweb = t, this.options = a, this.refillRate = null !== (n = this.options.refillRate) && void 0 !== n ? n : this.refillRate, this.bucketSize = null !== (i = this.options.bucketSize) && void 0 !== i ? i : this.bucketSize, setInterval(function () {\n      o.refillBuckets();\n    }, 1e3);\n  }),\n  dt = function (e) {\n    return e[e.DomContentLoaded = 0] = \"DomContentLoaded\", e[e.Load = 1] = \"Load\", e[e.FullSnapshot = 2] = \"FullSnapshot\", e[e.IncrementalSnapshot = 3] = \"IncrementalSnapshot\", e[e.Meta = 4] = \"Meta\", e[e.Custom = 5] = \"Custom\", e[e.Plugin = 6] = \"Plugin\", e;\n  }(dt || {}),\n  ft = \"/s/\";\n!function (e) {\n  e[e.Mutation = 0] = \"Mutation\", e[e.MouseMove = 1] = \"MouseMove\", e[e.MouseInteraction = 2] = \"MouseInteraction\", e[e.Scroll = 3] = \"Scroll\", e[e.ViewportResize = 4] = \"ViewportResize\", e[e.Input = 5] = \"Input\", e[e.TouchMove = 6] = \"TouchMove\", e[e.MediaInteraction = 7] = \"MediaInteraction\", e[e.StyleSheetRule = 8] = \"StyleSheetRule\", e[e.CanvasMutation = 9] = \"CanvasMutation\", e[e.Font = 10] = \"Font\", e[e.Log = 11] = \"Log\", e[e.Drag = 12] = \"Drag\", e[e.StyleDeclaration = 13] = \"StyleDeclaration\", e[e.Selection = 14] = \"Selection\", e[e.AdoptedStyleSheet = 15] = \"AdoptedStyleSheet\";\n}(ct || (ct = {}));\nvar ht = [ct.MouseMove, ct.MouseInteraction, ct.Scroll, ct.ViewportResize, ct.Input, ct.TouchMove, ct.MediaInteraction, ct.Drag],\n  pt = function () {\n    function e(t) {\n      var n = this;\n      r(this, e), s(this, \"lastActivityTimestamp\", Date.now()), s(this, \"isIdle\", !1), this.instance = t, this.captureStarted = !1, this.snapshots = [], this.emit = !1, this.endpoint = ft, this.stopRrweb = void 0, this.windowId = null, this.sessionId = null, this.receivedDecide = !1, window.addEventListener(\"beforeunload\", function () {\n        n._flushBuffer();\n      });\n    }\n    return o(e, [{\n      key: \"getSessionManager\",\n      value: function () {\n        if (this.instance.sessionManager) return this.instance.sessionManager;\n        T.error(\"Session recording started without valid sessionManager\");\n      }\n    }, {\n      key: \"startRecordingIfEnabled\",\n      value: function () {\n        this.isRecordingEnabled() ? this.startCaptureAndTrySendingQueuedSnapshots() : this.stopRecording();\n      }\n    }, {\n      key: \"started\",\n      value: function () {\n        return this.captureStarted;\n      }\n    }, {\n      key: \"stopRecording\",\n      value: function () {\n        this.captureStarted && this.stopRrweb && (this.stopRrweb(), this.stopRrweb = void 0, this.captureStarted = !1);\n      }\n    }, {\n      key: \"isRecordingEnabled\",\n      value: function () {\n        var e = !!this.instance.get_property(Se),\n          t = !this.instance.config.disable_session_recording;\n        return e && t;\n      }\n    }, {\n      key: \"isConsoleLogCaptureEnabled\",\n      value: function () {\n        var e = !!this.instance.get_property(Ee),\n          t = this.instance.config.enable_recording_console_log;\n        return null != t ? t : e;\n      }\n    }, {\n      key: \"getRecordingVersion\",\n      value: function () {\n        var e,\n          t = this.instance.get_property(xe);\n        return (null === (e = this.instance.config.session_recording) || void 0 === e ? void 0 : e.recorderVersion) || t || \"v1\";\n      }\n    }, {\n      key: \"afterDecideResponse\",\n      value: function (e) {\n        var t, n, r, i, o, a;\n        (this.receivedDecide = !0, this.instance.persistence) && this.instance.persistence.register((s(o = {}, Se, !!e.sessionRecording), s(o, Ee, null === (r = e.sessionRecording) || void 0 === r ? void 0 : r.consoleLogRecordingEnabled), s(o, xe, null === (i = e.sessionRecording) || void 0 === i ? void 0 : i.recorderVersion), o));\n        null !== (t = e.sessionRecording) && void 0 !== t && t.endpoint && (this.endpoint = null === (a = e.sessionRecording) || void 0 === a ? void 0 : a.endpoint);\n        null !== (n = e.sessionRecording) && void 0 !== n && n.recorderVersion && (this.recorderVersion = e.sessionRecording.recorderVersion), this.startRecordingIfEnabled();\n      }\n    }, {\n      key: \"log\",\n      value: function (e) {\n        var t,\n          n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"log\";\n        null === (t = this.instance.sessionRecording) || void 0 === t || t.onRRwebEmit({\n          type: 6,\n          data: {\n            plugin: \"rrweb/console@1\",\n            payload: {\n              level: n,\n              trace: [],\n              payload: [JSON.stringify(e)]\n            }\n          },\n          timestamp: z()\n        });\n      }\n    }, {\n      key: \"startCaptureAndTrySendingQueuedSnapshots\",\n      value: function () {\n        var e = this;\n        this.receivedDecide && (this.emit = !0, this.snapshots.forEach(function (t) {\n          return e._captureSnapshotBuffered(t);\n        })), this._startCapture();\n      }\n    }, {\n      key: \"_startCapture\",\n      value: function () {\n        var e = this,\n          t = this.getSessionManager();\n        if (t && void 0 !== Object.assign && !this.captureStarted && !this.instance.config.disable_session_recording) {\n          this.captureStarted = !0, t.checkAndGetSessionAndWindowId();\n          var n = \"v2\" === this.getRecordingVersion() ? \"recorder-v2.js\" : \"recorder.js\";\n          this.instance.__loaded_recorder_version !== this.getRecordingVersion() ? ie(this.instance.config.api_host + \"/static/\".concat(n, \"?v=\").concat(m.LIB_VERSION), function (t) {\n            if (t) return T.error(\"Could not load \".concat(n), t);\n            e._onScriptLoaded();\n          }) : this._onScriptLoaded();\n        }\n      }\n    }, {\n      key: \"_isInteractiveEvent\",\n      value: function (e) {\n        var t;\n        return e.type === it && -1 !== ht.indexOf(null === (t = e.data) || void 0 === t ? void 0 : t.source);\n      }\n    }, {\n      key: \"_updateWindowAndSessionIds\",\n      value: function (e) {\n        var t = this.getSessionManager();\n        if (t) {\n          var n = this._isInteractiveEvent(e);\n          if (n || this.isIdle || e.timestamp - this.lastActivityTimestamp > 3e5 && (this.isIdle = !0), n && (this.lastActivityTimestamp = e.timestamp, this.isIdle && (this.isIdle = !1, this._tryTakeFullSnapshot())), !this.isIdle) {\n            var r = t.checkAndGetSessionAndWindowId(!n, e.timestamp),\n              i = r.windowId,\n              o = r.sessionId;\n            -1 !== [nt, rt].indexOf(e.type) || this.windowId === i && this.sessionId === o || this._tryTakeFullSnapshot(), this.windowId = i, this.sessionId = o;\n          }\n        }\n      }\n    }, {\n      key: \"_tryTakeFullSnapshot\",\n      value: function () {\n        if (!this.captureStarted) return !1;\n        try {\n          var e;\n          return null === (e = this.rrwebRecord) || void 0 === e || e.takeFullSnapshot(), !0;\n        } catch (e) {\n          return T.error(\"Error taking full snapshot.\", e), !1;\n        }\n      }\n    }, {\n      key: \"_onScriptLoaded\",\n      value: function () {\n        var e,\n          n = this,\n          r = {\n            blockClass: \"ph-no-capture\",\n            blockSelector: void 0,\n            ignoreClass: \"ph-ignore-input\",\n            maskTextClass: \"ph-mask\",\n            maskTextSelector: void 0,\n            maskTextFn: void 0,\n            maskAllInputs: !0,\n            maskInputOptions: {},\n            maskInputFn: void 0,\n            slimDOMOptions: {},\n            collectFonts: !1,\n            inlineStylesheet: !0,\n            recordCrossOriginIframes: !1\n          };\n        this.rrwebRecord = window.rrweb ? window.rrweb.record : window.rrwebRecord;\n        for (var i = this.instance.config.session_recording, o = 0, s = Object.entries(i || {}); o < s.length; o++) {\n          var a = h(s[o], 2),\n            u = a[0],\n            c = a[1];\n          u in r && (r[u] = c);\n        }\n        this.rrwebRecord ? (this.mutationRateLimiter = null !== (e = this.mutationRateLimiter) && void 0 !== e ? e : new lt(this.rrwebRecord, {\n          onBlockedNode: function (e, t) {\n            var r = \"Too many mutations on node '\".concat(e, \"'. Rate limiting. This could be due to SVG animations or something similar\");\n            T.log(r, {\n              node: t\n            }), n.log(\"[PostHog Recorder] \" + r, \"warn\");\n          }\n        }), this.stopRrweb = this.rrwebRecord(t({\n          emit: function (e) {\n            n.onRRwebEmit(e);\n          },\n          plugins: window.rrwebConsoleRecord && this.isConsoleLogCaptureEnabled() ? [window.rrwebConsoleRecord.getRecordConsolePlugin()] : []\n        }, r)), this.instance._addCaptureHook(function (e) {\n          try {\n            if (\"$pageview\" === e) {\n              var t,\n                r = n._maskUrl(window.location.href);\n              if (!r) return;\n              null === (t = n.rrwebRecord) || void 0 === t || t.addCustomEvent(\"$pageview\", {\n                href: r\n              });\n            }\n          } catch (e) {\n            T.error(\"Could not add $pageview to rrweb session\", e);\n          }\n        }), this.lastActivityTimestamp = Date.now(), this.isIdle = !1) : T.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\");\n      }\n    }, {\n      key: \"onRRwebEmit\",\n      value: function (e) {\n        if (e && \"object\" === n(e)) {\n          if (e.type === dt.Meta) {\n            var t = this._maskUrl(e.data.href);\n            if (!t) return;\n            e.data.href = t;\n          }\n          var r = this.mutationRateLimiter ? this.mutationRateLimiter.throttleMutations(e) : e;\n          if (r) {\n            var i = function (e) {\n                var t = JSON.stringify(e);\n                if (t.length > at) {\n                  var n,\n                    r = v(t.matchAll(/data:([\\w/\\-.]+);(\\w+),([^)\"]*)/gim));\n                  try {\n                    for (r.s(); !(n = r.n()).done;) {\n                      var i = n.value;\n                      t = \"image/\" === i[1].toLocaleLowerCase().slice(0, 6) ? t.replace(i[0], tt) : t.replace(i[0], \"\");\n                    }\n                  } catch (e) {\n                    r.e(e);\n                  } finally {\n                    r.f();\n                  }\n                }\n                return {\n                  event: JSON.parse(t),\n                  size: t.length\n                };\n              }(function (e) {\n                var t = e;\n                if (t && \"object\" === n(t) && t.type === ot && \"object\" === n(t.data) && t.data.plugin === ut) {\n                  t.data.payload.payload.length > 10 && (t.data.payload.payload = t.data.payload.payload.slice(0, 10), t.data.payload.payload.push(\"...[truncated]\"));\n                  for (var r = [], i = 0; i < t.data.payload.payload.length; i++) t.data.payload.payload[i] && t.data.payload.payload[i].length > 2e3 ? r.push(t.data.payload.payload[i].slice(0, 2e3) + \"...[truncated]\") : r.push(t.data.payload.payload[i]);\n                  return t.data.payload.payload = r, e;\n                }\n                return e;\n              }(r)),\n              o = i.event,\n              s = i.size;\n            if (this._updateWindowAndSessionIds(o), !this.isIdle) {\n              var a = {\n                $snapshot_bytes: s,\n                $snapshot_data: o,\n                $session_id: this.sessionId,\n                $window_id: this.windowId\n              };\n              this.emit ? this._captureSnapshotBuffered(a) : this.snapshots.push(a);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"_maskUrl\",\n      value: function (e) {\n        var t = this.instance.config.session_recording;\n        if (t.maskNetworkRequestFn) {\n          var n,\n            r = {\n              url: e\n            };\n          return null === (n = r = t.maskNetworkRequestFn(r)) || void 0 === n ? void 0 : n.url;\n        }\n        return e;\n      }\n    }, {\n      key: \"_flushBuffer\",\n      value: function () {\n        return this.flushBufferTimer && (clearTimeout(this.flushBufferTimer), this.flushBufferTimer = void 0), this.buffer && 0 !== this.buffer.data.length && this._captureSnapshot({\n          $snapshot_bytes: this.buffer.size,\n          $snapshot_data: this.buffer.data,\n          $session_id: this.buffer.sessionId,\n          $window_id: this.buffer.windowId\n        }), this.buffer = void 0, {\n          size: 0,\n          data: [],\n          sessionId: this.sessionId,\n          windowId: this.windowId\n        };\n      }\n    }, {\n      key: \"_captureSnapshotBuffered\",\n      value: function (e) {\n        var t,\n          n = this,\n          r = 2 + ((null === (t = this.buffer) || void 0 === t ? void 0 : t.data.length) || 0);\n        (!this.buffer || this.buffer.size + e.$snapshot_bytes + r > 943718.4 || this.buffer.sessionId !== this.sessionId) && (this.buffer = this._flushBuffer()), this.buffer.size += e.$snapshot_bytes, this.buffer.data.push(e.$snapshot_data), this.flushBufferTimer || (this.flushBufferTimer = setTimeout(function () {\n          n._flushBuffer();\n        }, 2e3));\n      }\n    }, {\n      key: \"_captureSnapshot\",\n      value: function (e) {\n        this.instance.capture(\"$snapshot\", e, {\n          transport: \"XHR\",\n          method: \"POST\",\n          endpoint: this.endpoint,\n          _noTruncate: !0,\n          _batchKey: \"recordings\",\n          _metrics: {\n            rrweb_full_snapshot: e.$snapshot_data.type === nt\n          }\n        });\n      }\n    }]), e;\n  }(),\n  gt = {\n    entryType: 0,\n    timeOrigin: 1,\n    name: 2,\n    startTime: 3,\n    redirectStart: 4,\n    redirectEnd: 5,\n    workerStart: 6,\n    fetchStart: 7,\n    domainLookupStart: 8,\n    domainLookupEnd: 9,\n    connectStart: 10,\n    secureConnectionStart: 11,\n    connectEnd: 12,\n    requestStart: 13,\n    responseStart: 14,\n    responseEnd: 15,\n    decodedBodySize: 16,\n    encodedBodySize: 17,\n    initiatorType: 18,\n    nextHopProtocol: 19,\n    renderBlockingStatus: 20,\n    responseStatus: 21,\n    transferSize: 22,\n    element: 23,\n    renderTime: 24,\n    loadTime: 25,\n    size: 26,\n    id: 27,\n    url: 28,\n    domComplete: 29,\n    domContentLoadedEvent: 30,\n    domInteractive: 31,\n    loadEventEnd: 32,\n    loadEventStart: 33,\n    redirectCount: 34,\n    navigationType: 35,\n    unloadEventEnd: 36,\n    unloadEventStart: 37,\n    duration: 39,\n    timestamp: 40\n  },\n  _t = [\"first-input\", \"navigation\", \"paint\", \"resource\"],\n  vt = [\"/s/\", \"/e/\"],\n  mt = function () {\n    function e(t) {\n      r(this, e), s(this, \"_forceAllowLocalhost\", !1), this.instance = t;\n    }\n    return o(e, [{\n      key: \"startObservingIfEnabled\",\n      value: function () {\n        this.isEnabled() ? this.startObserving() : this.stopObserving();\n      }\n    }, {\n      key: \"startObserving\",\n      value: function () {\n        var e,\n          t,\n          n = this;\n        if (!this.observer) if (void 0 !== (null === (e = window) || void 0 === e || null === (t = e.PerformanceObserver) || void 0 === t ? void 0 : t.supportedEntryTypes)) {\n          if (!F.includes(location.hostname) || this._forceAllowLocalhost) try {\n            this.observer = new PerformanceObserver(function (e) {\n              e.getEntries().forEach(function (e) {\n                n._capturePerformanceEvent(e);\n              });\n            });\n            var r = PerformanceObserver.supportedEntryTypes.filter(function (e) {\n              return _t.includes(e);\n            });\n            r.forEach(function (e) {\n              var t;\n              null === (t = n.observer) || void 0 === t || t.observe({\n                type: e,\n                buffered: !0\n              });\n            });\n          } catch (e) {\n            console.error(\"PostHog failed to start performance observer\", e), this.stopObserving();\n          } else T.log(\"PostHog Peformance observer not started because we are on localhost.\");\n        } else T.log(\"PostHog Performance observer not started because PerformanceObserver is not supported by this browser.\");\n      }\n    }, {\n      key: \"stopObserving\",\n      value: function () {\n        this.observer && (this.observer.disconnect(), this.observer = void 0);\n      }\n    }, {\n      key: \"isObserving\",\n      value: function () {\n        return !!this.observer;\n      }\n    }, {\n      key: \"isEnabled\",\n      value: function () {\n        var e, t;\n        return null !== (e = null !== (t = this.instance.config.capture_performance) && void 0 !== t ? t : this.remoteEnabled) && void 0 !== e && e;\n      }\n    }, {\n      key: \"afterDecideResponse\",\n      value: function (e) {\n        this.remoteEnabled = e.capturePerformance || !1, this.isEnabled() && this.startObserving();\n      }\n    }, {\n      key: \"_capturePerformanceEvent\",\n      value: function (e) {\n        if (0 === e.name.indexOf(this.instance.config.api_host)) {\n          var t = e.name.replace(this.instance.config.api_host, \"\");\n          if (vt.find(function (e) {\n            return 0 === t.indexOf(e);\n          })) return;\n        }\n        var n = {\n            url: e.name\n          },\n          r = this.instance.config.session_recording;\n        if (r.maskNetworkRequestFn && (n = r.maskNetworkRequestFn(n)), n) {\n          var i = e.toJSON();\n          i.name = n.url;\n          var o = {},\n            a = Math.floor(Date.now() - performance.now());\n          for (var u in o[gt.timeOrigin] = a, o[gt.timestamp] = Math.floor(a + e.startTime), gt) void 0 !== i[u] && (o[gt[u]] = i[u]);\n          if (this.capturePerformanceEvent(o), yt(e)) {\n            var c,\n              l = v(e.serverTiming || []);\n            try {\n              for (l.s(); !(c = l.n()).done;) {\n                var d,\n                  f = c.value;\n                this.capturePerformanceEvent((s(d = {}, gt.timeOrigin, a), s(d, gt.timestamp, Math.floor(a + e.startTime)), s(d, gt.name, f.name), s(d, gt.duration, f.duration), s(d, gt.entryType, \"serverTiming\"), d));\n              }\n            } catch (e) {\n              l.e(e);\n            } finally {\n              l.f();\n            }\n          }\n        }\n      }\n    }, {\n      key: \"capturePerformanceEvent\",\n      value: function (e) {\n        var t,\n          n = e[gt.timestamp];\n        null === (t = this.instance.sessionRecording) || void 0 === t || t.onRRwebEmit({\n          type: 6,\n          data: {\n            plugin: \"posthog/network@1\",\n            payload: e\n          },\n          timestamp: n\n        });\n      }\n    }]), e;\n  }(),\n  yt = function (e) {\n    return \"navigation\" === e.entryType || \"resource\" === e.entryType;\n  },\n  bt = function () {\n    function e(t) {\n      r(this, e), this.instance = t, this.instance.decideEndpointWasHit = this.instance._hasBootstrappedFeatureFlags();\n    }\n    return o(e, [{\n      key: \"call\",\n      value: function () {\n        var e = this,\n          t = X(JSON.stringify({\n            token: this.instance.config.token,\n            distinct_id: this.instance.get_distinct_id(),\n            groups: this.instance.getGroups(),\n            person_properties: this.instance.get_property(Oe),\n            group_properties: this.instance.get_property($e),\n            disable_flags: this.instance.config.advanced_disable_feature_flags || this.instance.config.advanced_disable_feature_flags_on_first_load || void 0\n          }));\n        this.instance._send_request(\"\".concat(this.instance.config.api_host, \"/decide/?v=3\"), {\n          data: t,\n          verbose: !0\n        }, {\n          method: \"POST\"\n        }, function (t) {\n          return e.parseDecideResponse(t);\n        });\n      }\n    }, {\n      key: \"parseDecideResponse\",\n      value: function (e) {\n        var t,\n          n,\n          r,\n          i,\n          o = this;\n        if (this.instance.featureFlags.setReloadingPaused(!1), this.instance.featureFlags._startReloadTimer(), 0 !== (null == e ? void 0 : e.status)) {\n          if (!document || !document.body) return console.log(\"document not ready yet, trying again in 500 milliseconds...\"), void setTimeout(function () {\n            o.parseDecideResponse(e);\n          }, 500);\n          if (this.instance.toolbar.afterDecideResponse(e), null === (t = this.instance.sessionRecording) || void 0 === t || t.afterDecideResponse(e), je.afterDecideResponse(e, this.instance), null === (n = this.instance.webPerformance) || void 0 === n || n.afterDecideResponse(e), null === (r = this.instance.exceptionAutocapture) || void 0 === r || r.afterDecideResponse(e), this.instance.config.advanced_disable_feature_flags_on_first_load || this.instance.featureFlags.receivedFeatureFlags(e), this.instance.compression = {}, e.supportedCompression && !this.instance.config.disable_compression) {\n            var s,\n              a = {},\n              u = v(e.supportedCompression);\n            try {\n              for (u.s(); !(s = u.n()).done;) {\n                a[s.value] = !0;\n              }\n            } catch (e) {\n              u.e(e);\n            } finally {\n              u.f();\n            }\n            this.instance.compression = a;\n          }\n          var c = null === (i = window) || void 0 === i ? void 0 : i.extendPostHogWithSurveys;\n          if (e.surveys && !c && ie(this.instance.config.api_host + \"/static/surveys.js\", function (e) {\n            if (e) return console.error(\"Could not load surveys script\", e);\n            window.extendPostHogWithSurveys(o.instance);\n          }), e.siteApps) if (this.instance.config.opt_in_site_apps) {\n            var l,\n              d = this.instance.config.api_host,\n              f = v(e.siteApps);\n            try {\n              var h = function () {\n                var e = l.value,\n                  t = e.id,\n                  n = e.url,\n                  r = [d, \"/\" === d[d.length - 1] && \"/\" === n[0] ? n.substring(1) : n].join(\"\");\n                window[\"__$$ph_site_app_\".concat(t)] = o.instance, ie(r, function (e) {\n                  e && console.error(\"Error while initializing PostHog app with config id \".concat(t), e);\n                });\n              };\n              for (f.s(); !(l = f.n()).done;) h();\n            } catch (e) {\n              f.e(e);\n            } finally {\n              f.f();\n            }\n          } else e.siteApps.length > 0 && console.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');\n        } else console.error(\"Failed to fetch feature flags from PostHog.\");\n      }\n    }]), e;\n  }(),\n  wt = [\"https://app.posthog.com\", \"https://eu.posthog.com\"],\n  kt = [\"source\"],\n  St = function () {\n    function e(t) {\n      r(this, e), this.instance = t;\n    }\n    return o(e, [{\n      key: \"afterDecideResponse\",\n      value: function (e) {\n        var n = e.toolbarParams || e.editorParams || (e.toolbarVersion ? {\n          toolbarVersion: e.toolbarVersion\n        } : {});\n        e.isAuthenticated && n.toolbarVersion && 0 === n.toolbarVersion.indexOf(\"toolbar\") && this.loadToolbar(t({}, n));\n      }\n    }, {\n      key: \"maybeLoadToolbar\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location,\n          t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0,\n          n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window.history;\n        try {\n          if (!t) {\n            try {\n              window.localStorage.setItem(\"test\", \"test\"), window.localStorage.removeItem(\"test\");\n            } catch (e) {\n              return !1;\n            }\n            t = window.localStorage;\n          }\n          var r,\n            i = ne(e.hash, \"__posthog\") || ne(e.hash, \"state\"),\n            o = i ? JSON.parse(decodeURIComponent(i)) : null;\n          return o && \"ph_authorize\" === o.action ? ((r = o).source = \"url\", r && Object.keys(r).length > 0 && (o.desiredHash ? e.hash = o.desiredHash : n ? n.replaceState(\"\", document.title, e.pathname + e.search) : e.hash = \"\")) : ((r = JSON.parse(t.getItem(\"_postHogToolbarParams\") || \"{}\")).source = \"localstorage\", delete r.userIntent), !(!r.token || this.instance.config.token !== r.token) && (this.loadToolbar(r), !0);\n        } catch (e) {\n          return !1;\n        }\n      }\n    }, {\n      key: \"loadToolbar\",\n      value: function (e) {\n        var n = this;\n        if (window._postHogToolbarLoaded) return !1;\n        window._postHogToolbarLoaded = !0;\n        var r = this.instance.config.api_host,\n          i = 3e5,\n          o = Math.floor(Date.now() / i) * i,\n          s = \"\".concat(r).concat(r.endsWith(\"/\") ? \"\" : \"/\", \"static/toolbar.js?t=\").concat(o),\n          a = !wt.includes(this.instance.config.api_host) && this.instance.config.advanced_disable_toolbar_metrics,\n          u = t(t({\n            token: this.instance.config.token\n          }, e), {}, {\n            apiURL: r\n          }, a ? {\n            instrument: !1\n          } : {});\n        u.source;\n        var c = l(u, kt);\n        return window.localStorage.setItem(\"_postHogToolbarParams\", JSON.stringify(c)), ie(s, function (e) {\n          e ? T.error(\"Failed to load toolbar\", e) : (window.ph_load_toolbar || window.ph_load_editor)(u, n.instance);\n        }), re(window, \"turbolinks:load\", function () {\n          window._postHogToolbarLoaded = !1, n.loadToolbar(u);\n        }), !0;\n      }\n    }, {\n      key: \"_loadEditor\",\n      value: function (e) {\n        return this.loadToolbar(e);\n      }\n    }, {\n      key: \"maybeLoadEditor\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location,\n          t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0,\n          n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : window.history;\n        return this.maybeLoadToolbar(e, t, n);\n      }\n    }]), e;\n  }(),\n  Et = \"__ph_opt_in_out_\";\nfunction xt(e, t) {\n  Mt(!0, e, t);\n}\nfunction Pt(e, t) {\n  Mt(!1, e, t);\n}\nfunction Ft(e, t) {\n  return \"1\" === Tt(e, t);\n}\nfunction It(e, t) {\n  return !!function (e) {\n    if (e && e.respectDnt) {\n      var t = e && e.window || S,\n        n = t.navigator || {},\n        r = !1;\n      return C([n.doNotTrack, n.msDoNotTrack, t.doNotTrack], function (e) {\n        H([!0, 1, \"1\", \"yes\"], e) && (r = !0);\n      }), r;\n    }\n    return !1;\n  }(t) || \"0\" === Tt(e, t);\n}\nfunction Ot(e, t) {\n  $t(t = t || {}).remove(Rt(e, t), !!t.crossSubdomainCookie);\n}\nfunction $t(e) {\n  return \"localStorage\" === (e = e || {}).persistenceType ? ze : \"localStorage+cookie\" === e.persistenceType ? Ye : Ve;\n}\nfunction Rt(e, t) {\n  return ((t = t || {}).persistencePrefix || Et) + e;\n}\nfunction Tt(e, t) {\n  return $t(t).get(Rt(e, t));\n}\nfunction Mt(e, t, n) {\n  U(t) && t.length ? ($t(n = n || {}).set(Rt(t, n), e ? 1 : 0, V(n.cookieExpiration) ? n.cookieExpiration : null, n.crossSubdomainCookie, n.secureCookie), n.capture && e && n.capture(n.captureEventName || \"$opt_in\", n.captureProperties || {}, {\n    send_instantly: !0\n  })) : console.error(\"gdpr.\" + (e ? \"optIn\" : \"optOut\") + \" called with an invalid token\");\n}\nvar At = function () {\n    function e() {\n      var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 3e3;\n      r(this, e), this.isPolling = !0, this._event_queue = [], this._empty_queue_count = 0, this._poller = void 0, this._pollInterval = t;\n    }\n    return o(e, [{\n      key: \"setPollInterval\",\n      value: function (e) {\n        this._pollInterval = e, this.isPolling && this.poll();\n      }\n    }, {\n      key: \"poll\",\n      value: function () {}\n    }, {\n      key: \"unload\",\n      value: function () {}\n    }, {\n      key: \"getTime\",\n      value: function () {\n        return new Date().getTime();\n      }\n    }]), e;\n  }(),\n  Ct = function (e) {\n    a(i, At);\n    var n = f(i);\n    function i(e) {\n      var t,\n        o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3e3;\n      return r(this, i), (t = n.call(this, o)).handlePollRequest = e, t;\n    }\n    return o(i, [{\n      key: \"enqueue\",\n      value: function (e, t, n) {\n        this._event_queue.push({\n          url: e,\n          data: t,\n          options: n\n        }), this.isPolling || (this.isPolling = !0, this.poll());\n      }\n    }, {\n      key: \"poll\",\n      value: function () {\n        var e = this;\n        clearTimeout(this._poller), this._poller = setTimeout(function () {\n          if (e._event_queue.length > 0) {\n            var t = e.formatQueue(),\n              n = function (n) {\n                var r = t[n],\n                  i = r.url,\n                  o = r.data,\n                  s = r.options;\n                C(o, function (t, n) {\n                  o[n].offset = Math.abs(o[n].timestamp - e.getTime()), delete o[n].timestamp;\n                }), e.handlePollRequest(i, o, s);\n              };\n            for (var r in t) n(r);\n            e._event_queue.length = 0, e._empty_queue_count = 0;\n          } else e._empty_queue_count++;\n          e._empty_queue_count > 4 && (e.isPolling = !1, e._empty_queue_count = 0), e.isPolling && e.poll();\n        }, this._pollInterval);\n      }\n    }, {\n      key: \"unload\",\n      value: function () {\n        var e = this;\n        clearTimeout(this._poller);\n        var n = this._event_queue.length > 0 ? this.formatQueue() : {};\n        this._event_queue.length = 0;\n        var r = Object.values(n);\n        [].concat(p(r.filter(function (e) {\n          return 0 === e.url.indexOf(\"/e\");\n        })), p(r.filter(function (e) {\n          return 0 !== e.url.indexOf(\"/e\");\n        }))).map(function (n) {\n          var r = n.url,\n            i = n.data,\n            o = n.options;\n          e.handlePollRequest(r, i, t(t({}, o), {}, {\n            transport: \"sendBeacon\"\n          }));\n        });\n      }\n    }, {\n      key: \"formatQueue\",\n      value: function () {\n        var e = {};\n        return C(this._event_queue, function (t) {\n          var n = t.url,\n            r = t.data,\n            i = t.options,\n            o = (i ? i._batchKey : null) || n;\n          void 0 === e[o] && (e[o] = {\n            data: [],\n            url: n,\n            options: i\n          }), i && e[o].options && e[o].options._metrics && !e[o].options._metrics.rrweb_full_snapshot && (e[o].options._metrics.rrweb_full_snapshot = i._metrics.rrweb_full_snapshot), e[o].data.push(r);\n        }), e;\n      }\n    }]), i;\n  }(),\n  Dt = Uint8Array,\n  jt = Uint16Array,\n  Nt = Uint32Array,\n  Ht = new Dt([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]),\n  Lt = new Dt([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]),\n  Bt = new Dt([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),\n  qt = function (e, t) {\n    for (var n = new jt(31), r = 0; r < 31; ++r) n[r] = t += 1 << e[r - 1];\n    var i = new Nt(n[30]);\n    for (r = 1; r < 30; ++r) for (var o = n[r]; o < n[r + 1]; ++o) i[o] = o - n[r] << 5 | r;\n    return [n, i];\n  },\n  Ut = qt(Ht, 2),\n  Vt = Ut[0],\n  Gt = Ut[1];\nVt[28] = 258, Gt[258] = 28;\nfor (var zt = qt(Lt, 0)[1], Wt = new jt(32768), Yt = 0; Yt < 32768; ++Yt) {\n  var Qt = (43690 & Yt) >>> 1 | (21845 & Yt) << 1;\n  Qt = (61680 & (Qt = (52428 & Qt) >>> 2 | (13107 & Qt) << 2)) >>> 4 | (3855 & Qt) << 4, Wt[Yt] = ((65280 & Qt) >>> 8 | (255 & Qt) << 8) >>> 1;\n}\nvar Jt = function (e, t, n) {\n    for (var r = e.length, i = 0, o = new jt(t); i < r; ++i) ++o[e[i] - 1];\n    var s,\n      a = new jt(t);\n    for (i = 0; i < t; ++i) a[i] = a[i - 1] + o[i - 1] << 1;\n    if (n) {\n      s = new jt(1 << t);\n      var u = 15 - t;\n      for (i = 0; i < r; ++i) if (e[i]) for (var c = i << 4 | e[i], l = t - e[i], d = a[e[i] - 1]++ << l, f = d | (1 << l) - 1; d <= f; ++d) s[Wt[d] >>> u] = c;\n    } else for (s = new jt(r), i = 0; i < r; ++i) s[i] = Wt[a[e[i] - 1]++] >>> 15 - e[i];\n    return s;\n  },\n  Xt = new Dt(288);\nfor (Yt = 0; Yt < 144; ++Yt) Xt[Yt] = 8;\nfor (Yt = 144; Yt < 256; ++Yt) Xt[Yt] = 9;\nfor (Yt = 256; Yt < 280; ++Yt) Xt[Yt] = 7;\nfor (Yt = 280; Yt < 288; ++Yt) Xt[Yt] = 8;\nvar Kt = new Dt(32);\nfor (Yt = 0; Yt < 32; ++Yt) Kt[Yt] = 5;\nvar Zt,\n  en = Jt(Xt, 9, 0),\n  tn = Jt(Kt, 5, 0),\n  nn = function (e) {\n    return (e / 8 >> 0) + (7 & e && 1);\n  },\n  rn = function (e, t, n) {\n    (null == t || t < 0) && (t = 0), (null == n || n > e.length) && (n = e.length);\n    var r = new (e instanceof jt ? jt : e instanceof Nt ? Nt : Dt)(n - t);\n    return r.set(e.subarray(t, n)), r;\n  },\n  on = function (e, t, n) {\n    n <<= 7 & t;\n    var r = t / 8 >> 0;\n    e[r] |= n, e[r + 1] |= n >>> 8;\n  },\n  sn = function (e, t, n) {\n    n <<= 7 & t;\n    var r = t / 8 >> 0;\n    e[r] |= n, e[r + 1] |= n >>> 8, e[r + 2] |= n >>> 16;\n  },\n  an = function (e, t) {\n    for (var n = [], r = 0; r < e.length; ++r) e[r] && n.push({\n      s: r,\n      f: e[r]\n    });\n    var i = n.length,\n      o = n.slice();\n    if (!i) return [new Dt(0), 0];\n    if (1 == i) {\n      var s = new Dt(n[0].s + 1);\n      return s[n[0].s] = 1, [s, 1];\n    }\n    n.sort(function (e, t) {\n      return e.f - t.f;\n    }), n.push({\n      s: -1,\n      f: 25001\n    });\n    var a = n[0],\n      u = n[1],\n      c = 0,\n      l = 1,\n      d = 2;\n    for (n[0] = {\n      s: -1,\n      f: a.f + u.f,\n      l: a,\n      r: u\n    }; l != i - 1;) a = n[n[c].f < n[d].f ? c++ : d++], u = n[c != l && n[c].f < n[d].f ? c++ : d++], n[l++] = {\n      s: -1,\n      f: a.f + u.f,\n      l: a,\n      r: u\n    };\n    var f = o[0].s;\n    for (r = 1; r < i; ++r) o[r].s > f && (f = o[r].s);\n    var h = new jt(f + 1),\n      p = un(n[l - 1], h, 0);\n    if (p > t) {\n      r = 0;\n      var g = 0,\n        _ = p - t,\n        v = 1 << _;\n      for (o.sort(function (e, t) {\n        return h[t.s] - h[e.s] || e.f - t.f;\n      }); r < i; ++r) {\n        var m = o[r].s;\n        if (!(h[m] > t)) break;\n        g += v - (1 << p - h[m]), h[m] = t;\n      }\n      for (g >>>= _; g > 0;) {\n        var y = o[r].s;\n        h[y] < t ? g -= 1 << t - h[y]++ - 1 : ++r;\n      }\n      for (; r >= 0 && g; --r) {\n        var b = o[r].s;\n        h[b] == t && (--h[b], ++g);\n      }\n      p = t;\n    }\n    return [new Dt(h), p];\n  },\n  un = function e(t, n, r) {\n    return -1 == t.s ? Math.max(e(t.l, n, r + 1), e(t.r, n, r + 1)) : n[t.s] = r;\n  },\n  cn = function (e) {\n    for (var t = e.length; t && !e[--t];);\n    for (var n = new jt(++t), r = 0, i = e[0], o = 1, s = function (e) {\n        n[r++] = e;\n      }, a = 1; a <= t; ++a) if (e[a] == i && a != t) ++o;else {\n      if (!i && o > 2) {\n        for (; o > 138; o -= 138) s(32754);\n        o > 2 && (s(o > 10 ? o - 11 << 5 | 28690 : o - 3 << 5 | 12305), o = 0);\n      } else if (o > 3) {\n        for (s(i), --o; o > 6; o -= 6) s(8304);\n        o > 2 && (s(o - 3 << 5 | 8208), o = 0);\n      }\n      for (; o--;) s(i);\n      o = 1, i = e[a];\n    }\n    return [n.subarray(0, r), t];\n  },\n  ln = function (e, t) {\n    for (var n = 0, r = 0; r < t.length; ++r) n += e[r] * t[r];\n    return n;\n  },\n  dn = function (e, t, n) {\n    var r = n.length,\n      i = nn(t + 2);\n    e[i] = 255 & r, e[i + 1] = r >>> 8, e[i + 2] = 255 ^ e[i], e[i + 3] = 255 ^ e[i + 1];\n    for (var o = 0; o < r; ++o) e[i + o + 4] = n[o];\n    return 8 * (i + 4 + r);\n  },\n  fn = function (e, t, n, r, i, o, s, a, u, c, l) {\n    on(t, l++, n), ++i[256];\n    for (var d = an(i, 15), f = d[0], h = d[1], p = an(o, 15), g = p[0], _ = p[1], v = cn(f), m = v[0], y = v[1], b = cn(g), w = b[0], k = b[1], S = new jt(19), E = 0; E < m.length; ++E) S[31 & m[E]]++;\n    for (E = 0; E < w.length; ++E) S[31 & w[E]]++;\n    for (var x = an(S, 7), P = x[0], F = x[1], I = 19; I > 4 && !P[Bt[I - 1]]; --I);\n    var O,\n      $,\n      R,\n      T,\n      M = c + 5 << 3,\n      A = ln(i, Xt) + ln(o, Kt) + s,\n      C = ln(i, f) + ln(o, g) + s + 14 + 3 * I + ln(S, P) + (2 * S[16] + 3 * S[17] + 7 * S[18]);\n    if (M <= A && M <= C) return dn(t, l, e.subarray(u, u + c));\n    if (on(t, l, 1 + (C < A)), l += 2, C < A) {\n      O = Jt(f, h, 0), $ = f, R = Jt(g, _, 0), T = g;\n      var D = Jt(P, F, 0);\n      on(t, l, y - 257), on(t, l + 5, k - 1), on(t, l + 10, I - 4), l += 14;\n      for (E = 0; E < I; ++E) on(t, l + 3 * E, P[Bt[E]]);\n      l += 3 * I;\n      for (var j = [m, w], N = 0; N < 2; ++N) {\n        var H = j[N];\n        for (E = 0; E < H.length; ++E) {\n          var L = 31 & H[E];\n          on(t, l, D[L]), l += P[L], L > 15 && (on(t, l, H[E] >>> 5 & 127), l += H[E] >>> 12);\n        }\n      }\n    } else O = en, $ = Xt, R = tn, T = Kt;\n    for (E = 0; E < a; ++E) if (r[E] > 255) {\n      L = r[E] >>> 18 & 31;\n      sn(t, l, O[L + 257]), l += $[L + 257], L > 7 && (on(t, l, r[E] >>> 23 & 31), l += Ht[L]);\n      var B = 31 & r[E];\n      sn(t, l, R[B]), l += T[B], B > 3 && (sn(t, l, r[E] >>> 5 & 8191), l += Lt[B]);\n    } else sn(t, l, O[r[E]]), l += $[r[E]];\n    return sn(t, l, O[256]), l + $[256];\n  },\n  hn = new Nt([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]),\n  pn = new Dt(0),\n  gn = function () {\n    for (var e = new Nt(256), t = 0; t < 256; ++t) {\n      for (var n = t, r = 9; --r;) n = (1 & n && 3988292384) ^ n >>> 1;\n      e[t] = n;\n    }\n    return e;\n  }(),\n  _n = function () {\n    var e = 4294967295;\n    return {\n      p: function (t) {\n        for (var n = e, r = 0; r < t.length; ++r) n = gn[255 & n ^ t[r]] ^ n >>> 8;\n        e = n;\n      },\n      d: function () {\n        return 4294967295 ^ e;\n      }\n    };\n  },\n  vn = function (e, t, n, r, i) {\n    return function (e, t, n, r, i, o) {\n      var s = e.length,\n        a = new Dt(r + s + 5 * (1 + Math.floor(s / 7e3)) + i),\n        u = a.subarray(r, a.length - i),\n        c = 0;\n      if (!t || s < 8) for (var l = 0; l <= s; l += 65535) {\n        var d = l + 65535;\n        d < s ? c = dn(u, c, e.subarray(l, d)) : (u[l] = o, c = dn(u, c, e.subarray(l, s)));\n      } else {\n        for (var f = hn[t - 1], h = f >>> 13, p = 8191 & f, g = (1 << n) - 1, _ = new jt(32768), v = new jt(g + 1), m = Math.ceil(n / 3), y = 2 * m, b = function (t) {\n            return (e[t] ^ e[t + 1] << m ^ e[t + 2] << y) & g;\n          }, w = new Nt(25e3), k = new jt(288), S = new jt(32), E = 0, x = 0, P = (l = 0, 0), F = 0, I = 0; l < s; ++l) {\n          var O = b(l),\n            $ = 32767 & l,\n            R = v[O];\n          if (_[$] = R, v[O] = $, F <= l) {\n            var T = s - l;\n            if ((E > 7e3 || P > 24576) && T > 423) {\n              c = fn(e, u, 0, w, k, S, x, P, I, l - I, c), P = E = x = 0, I = l;\n              for (var M = 0; M < 286; ++M) k[M] = 0;\n              for (M = 0; M < 30; ++M) S[M] = 0;\n            }\n            var A = 2,\n              C = 0,\n              D = p,\n              j = $ - R & 32767;\n            if (T > 2 && O == b(l - j)) for (var N = Math.min(h, T) - 1, H = Math.min(32767, l), L = Math.min(258, T); j <= H && --D && $ != R;) {\n              if (e[l + A] == e[l + A - j]) {\n                for (var B = 0; B < L && e[l + B] == e[l + B - j]; ++B);\n                if (B > A) {\n                  if (A = B, C = j, B > N) break;\n                  var q = Math.min(j, B - 2),\n                    U = 0;\n                  for (M = 0; M < q; ++M) {\n                    var V = l - j + M + 32768 & 32767,\n                      G = V - _[V] + 32768 & 32767;\n                    G > U && (U = G, R = V);\n                  }\n                }\n              }\n              j += ($ = R) - (R = _[$]) + 32768 & 32767;\n            }\n            if (C) {\n              w[P++] = 268435456 | Gt[A] << 18 | zt[C];\n              var z = 31 & Gt[A],\n                W = 31 & zt[C];\n              x += Ht[z] + Lt[W], ++k[257 + z], ++S[W], F = l + A, ++E;\n            } else w[P++] = e[l], ++k[e[l]];\n          }\n        }\n        c = fn(e, u, o, w, k, S, x, P, I, l - I, c), o || (c = dn(u, c, pn));\n      }\n      return rn(a, 0, r + nn(c) + i);\n    }(e, null == t.level ? 6 : t.level, null == t.mem ? Math.ceil(1.5 * Math.max(8, Math.min(13, Math.log(e.length)))) : 12 + t.mem, n, r, !i);\n  },\n  mn = function (e, t, n) {\n    for (; n; ++t) e[t] = n, n >>>= 8;\n  },\n  yn = function (e, t) {\n    var n = t.filename;\n    if (e[0] = 31, e[1] = 139, e[2] = 8, e[8] = t.level < 2 ? 4 : 9 == t.level ? 2 : 0, e[9] = 3, 0 != t.mtime && mn(e, 4, Math.floor(new Date(t.mtime || Date.now()) / 1e3)), n) {\n      e[3] = 8;\n      for (var r = 0; r <= n.length; ++r) e[r + 10] = n.charCodeAt(r);\n    }\n  },\n  bn = function (e) {\n    return 10 + (e.filename && e.filename.length + 1 || 0);\n  };\nfunction wn(e, t) {\n  void 0 === t && (t = {});\n  var n = _n(),\n    r = e.length;\n  n.p(e);\n  var i = vn(e, t, bn(t), 8),\n    o = i.length;\n  return yn(i, t), mn(i, o - 8, n.d()), mn(i, o - 4, r), i;\n}\nfunction kn(e, t) {\n  var n = e.length;\n  if (!t && \"undefined\" != typeof TextEncoder) return new TextEncoder().encode(e);\n  for (var r = new Dt(e.length + (e.length >>> 1)), i = 0, o = function (e) {\n      r[i++] = e;\n    }, s = 0; s < n; ++s) {\n    if (i + 5 > r.length) {\n      var a = new Dt(i + 8 + (n - s << 1));\n      a.set(r), r = a;\n    }\n    var u = e.charCodeAt(s);\n    u < 128 || t ? o(u) : u < 2048 ? (o(192 | u >>> 6), o(128 | 63 & u)) : u > 55295 && u < 57344 ? (o(240 | (u = 65536 + (1047552 & u) | 1023 & e.charCodeAt(++s)) >>> 18), o(128 | u >>> 12 & 63), o(128 | u >>> 6 & 63), o(128 | 63 & u)) : (o(224 | u >>> 12), o(128 | u >>> 6 & 63), o(128 | 63 & u));\n  }\n  return rn(r, 0, i);\n}\n!function (e) {\n  e.GZipJS = \"gzip-js\", e.Base64 = \"base64\";\n}(Zt || (Zt = {}));\nvar Sn = function (e, t, n) {\n    var r = t || {};\n    r.ip = n.ip ? 1 : 0, r._ = new Date().getTime().toString(), r.ver = m.LIB_VERSION;\n    var i = e.split(\"?\");\n    if (i.length > 1) {\n      var o,\n        s = v(i[1].split(\"&\"));\n      try {\n        for (s.s(); !(o = s.n()).done;) {\n          var a = o.value.split(\"=\")[0];\n          r[a] && delete r[a];\n        }\n      } catch (e) {\n        s.e(e);\n      } finally {\n        s.f();\n      }\n    }\n    var u = e.indexOf(\"?\") > -1 ? \"&\" : \"?\";\n    return e + u + function (e) {\n      var t,\n        n,\n        r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"&\",\n        i = [];\n      return C(e, function (e, r) {\n        t = encodeURIComponent(e.toString()), n = encodeURIComponent(r), i[i.length] = n + \"=\" + t;\n      }), i.join(r);\n    }(r);\n  },\n  En = function e(t, n) {\n    if (n.blob && t.buffer) return new Blob([t.buffer], {\n      type: \"text/plain\"\n    });\n    if (n.sendBeacon || n.blob) {\n      var r = e(t, {\n        method: \"POST\"\n      });\n      return new Blob([r], {\n        type: \"application/x-www-form-urlencoded\"\n      });\n    }\n    if (\"POST\" !== n.method) return null;\n    var i, o;\n    return i = Array.isArray(t) || (o = t, \"[object Uint8Array]\" === Object.prototype.toString.call(o)) ? \"data=\" + encodeURIComponent(t) : \"data=\" + encodeURIComponent(t.data), \"compression\" in t && t.compression && (i += \"&compression=\" + t.compression), i;\n  },\n  xn = function (e) {\n    var t = e.url,\n      n = e.data,\n      r = e.headers,\n      i = e.options,\n      o = e.callback,\n      s = e.retriesPerformedSoFar,\n      a = e.retryQueue,\n      u = e.onXHRError,\n      c = e.timeout,\n      l = void 0 === c ? 6e4 : c,\n      d = e.onResponse,\n      f = new XMLHttpRequest();\n    f.open(i.method || \"GET\", t, !0);\n    var h = En(n, i);\n    C(r, function (e, t) {\n      f.setRequestHeader(t, e);\n    }), \"POST\" !== i.method || i.blob || f.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\"), f.timeout = l, f.withCredentials = !0, f.onreadystatechange = function () {\n      if (4 === f.readyState) if (null == d || d(f), 200 === f.status) {\n        if (o) {\n          var e;\n          try {\n            e = JSON.parse(f.responseText);\n          } catch (e) {\n            return void T.error(e);\n          }\n          o(e);\n        }\n      } else \"function\" == typeof u && u(f), (f.status < 400 || f.status > 500) && a.enqueue({\n        url: t,\n        data: n,\n        options: i,\n        headers: r,\n        retriesPerformedSoFar: (s || 0) + 1,\n        callback: o\n      }), null == o || o({\n        status: 0\n      });\n    }, f.send(h);\n  },\n  Pn = 18e5;\nvar Fn = function (e) {\n  a(i, At);\n  var n = f(i);\n  function i(e, t) {\n    var o;\n    return r(this, i), (o = n.call(this)).isPolling = !1, o.queue = [], o.areWeOnline = !0, o.onXHRError = e, o.rateLimiter = t, \"undefined\" != typeof window && \"onLine\" in window.navigator && (o.areWeOnline = window.navigator.onLine, window.addEventListener(\"online\", function () {\n      o._handleWeAreNowOnline();\n    }), window.addEventListener(\"offline\", function () {\n      o.areWeOnline = !1;\n    })), o;\n  }\n  return o(i, [{\n    key: \"enqueue\",\n    value: function (e) {\n      var t = e.retriesPerformedSoFar || 0;\n      if (!(t >= 10)) {\n        var n = function (e) {\n            var t = 3e3 * Math.pow(2, e),\n              n = t / 2,\n              r = Math.min(Pn, t),\n              i = (Math.random() - .5) * (r - n);\n            return Math.ceil(r + i);\n          }(t),\n          r = new Date(Date.now() + n);\n        this.queue.push({\n          retryAt: r,\n          requestData: e\n        }), console.warn(\"Enqueued failed request for retry in \".concat(n)), this.isPolling || (this.isPolling = !0, this.poll());\n      }\n    }\n  }, {\n    key: \"poll\",\n    value: function () {\n      var e = this;\n      this._poller && clearTimeout(this._poller), this._poller = setTimeout(function () {\n        e.areWeOnline && e.queue.length > 0 && e.flush(), e.poll();\n      }, this._pollInterval);\n    }\n  }, {\n    key: \"flush\",\n    value: function () {\n      var e = new Date(Date.now()),\n        t = this.queue.filter(function (t) {\n          return t.retryAt < e;\n        });\n      if (t.length > 0) {\n        this.queue = this.queue.filter(function (t) {\n          return t.retryAt >= e;\n        });\n        var n,\n          r = v(t);\n        try {\n          for (r.s(); !(n = r.n()).done;) {\n            var i = n.value.requestData;\n            this._executeXhrRequest(i);\n          }\n        } catch (e) {\n          r.e(e);\n        } finally {\n          r.f();\n        }\n      }\n    }\n  }, {\n    key: \"unload\",\n    value: function () {\n      this._poller && (clearTimeout(this._poller), this._poller = void 0);\n      var e,\n        n = v(this.queue);\n      try {\n        for (n.s(); !(e = n.n()).done;) {\n          var r = e.value.requestData,\n            i = r.url,\n            o = r.data,\n            s = r.options;\n          if (this.rateLimiter.isRateLimited(s._batchKey)) m.DEBUG && console.warn(\"[PostHog RetryQueue] is quota limited. Dropping request.\");else try {\n            window.navigator.sendBeacon(i, En(o, t(t({}, s), {}, {\n              sendBeacon: !0\n            })));\n          } catch (e) {\n            m.DEBUG && console.error(e);\n          }\n        }\n      } catch (e) {\n        n.e(e);\n      } finally {\n        n.f();\n      }\n      this.queue = [];\n    }\n  }, {\n    key: \"_executeXhrRequest\",\n    value: function (e) {\n      var t = e.url,\n        n = e.data,\n        r = e.options,\n        i = e.headers,\n        o = e.callback,\n        s = e.retriesPerformedSoFar;\n      this.rateLimiter.isRateLimited(r._batchKey) || xn({\n        url: t,\n        data: n || {},\n        options: r || {},\n        headers: i || {},\n        retriesPerformedSoFar: s || 0,\n        callback: o,\n        retryQueue: this,\n        onXHRError: this.onXHRError,\n        onResponse: this.rateLimiter.checkForLimiting\n      });\n    }\n  }, {\n    key: \"_handleWeAreNowOnline\",\n    value: function () {\n      this.areWeOnline = !0, this.flush();\n    }\n  }]), i;\n}();\n/**\n * uuidv7: An experimental implementation of the proposed UUID Version 7\n *\n * @license Apache-2.0\n * @copyright 2021-2023 LiosK\n * @packageDocumentation\n *\n * from https://github.com/LiosK/uuidv7/blob/e501462ea3d23241de13192ceae726956f9b3b7d/src/index.ts\n */\nMath.trunc || (Math.trunc = function (e) {\n  return e < 0 ? Math.ceil(e) : Math.floor(e);\n}), Number.isInteger || (Number.isInteger = function (e) {\n  return \"number\" == typeof e && isFinite(e) && Math.floor(e) === e;\n});\nvar In = \"0123456789abcdef\",\n  On = function () {\n    function e(t) {\n      if (r(this, e), this.bytes = t, 16 !== t.length) throw new TypeError(\"not 128-bit length\");\n    }\n    return o(e, [{\n      key: \"toString\",\n      value: function () {\n        for (var e = \"\", t = 0; t < this.bytes.length; t++) e = e + In.charAt(this.bytes[t] >>> 4) + In.charAt(15 & this.bytes[t]), 3 !== t && 5 !== t && 7 !== t && 9 !== t || (e += \"-\");\n        if (36 !== e.length) throw new Error(\"Invalid UUIDv7 was generated\");\n        return e;\n      }\n    }, {\n      key: \"clone\",\n      value: function () {\n        return new e(this.bytes.slice(0));\n      }\n    }, {\n      key: \"equals\",\n      value: function (e) {\n        return 0 === this.compareTo(e);\n      }\n    }, {\n      key: \"compareTo\",\n      value: function (e) {\n        for (var t = 0; t < 16; t++) {\n          var n = this.bytes[t] - e.bytes[t];\n          if (0 !== n) return Math.sign(n);\n        }\n        return 0;\n      }\n    }], [{\n      key: \"fromFieldsV7\",\n      value: function (t, n, r, i) {\n        if (!Number.isInteger(t) || !Number.isInteger(n) || !Number.isInteger(r) || !Number.isInteger(i) || t < 0 || n < 0 || r < 0 || i < 0 || t > 0xffffffffffff || n > 4095 || r > 1073741823 || i > 4294967295) throw new RangeError(\"invalid field value\");\n        var o = new Uint8Array(16);\n        return o[0] = t / Math.pow(2, 40), o[1] = t / Math.pow(2, 32), o[2] = t / Math.pow(2, 24), o[3] = t / Math.pow(2, 16), o[4] = t / Math.pow(2, 8), o[5] = t, o[6] = 112 | n >>> 8, o[7] = n, o[8] = 128 | r >>> 24, o[9] = r >>> 16, o[10] = r >>> 8, o[11] = r, o[12] = i >>> 24, o[13] = i >>> 16, o[14] = i >>> 8, o[15] = i, new e(o);\n      }\n    }]), e;\n  }(),\n  $n = function () {\n    function e() {\n      r(this, e), s(this, \"timestamp\", 0), s(this, \"counter\", 0), s(this, \"random\", new Mn());\n    }\n    return o(e, [{\n      key: \"generate\",\n      value: function () {\n        var e = this.generateOrAbort();\n        if (void 0 !== e) return e;\n        this.timestamp = 0;\n        var t = this.generateOrAbort();\n        if (void 0 === t) throw new Error(\"Could not generate UUID after timestamp reset\");\n        return t;\n      }\n    }, {\n      key: \"generateOrAbort\",\n      value: function () {\n        var e = Date.now();\n        if (e > this.timestamp) this.timestamp = e, this.resetCounter();else {\n          if (!(e + 1e4 > this.timestamp)) return;\n          this.counter++, this.counter > 4398046511103 && (this.timestamp++, this.resetCounter());\n        }\n        return On.fromFieldsV7(this.timestamp, Math.trunc(this.counter / Math.pow(2, 30)), this.counter & Math.pow(2, 30) - 1, this.random.nextUint32());\n      }\n    }, {\n      key: \"resetCounter\",\n      value: function () {\n        this.counter = 1024 * this.random.nextUint32() + (1023 & this.random.nextUint32());\n      }\n    }]), e;\n  }(),\n  Rn = function (e) {\n    if (\"undefined\" != typeof UUIDV7_DENY_WEAK_RNG && UUIDV7_DENY_WEAK_RNG) throw new Error(\"no cryptographically strong RNG available\");\n    for (var t = 0; t < e.length; t++) e[t] = 65536 * Math.trunc(65536 * Math.random()) + Math.trunc(65536 * Math.random());\n    return e;\n  };\n\"undefined\" != typeof crypto && crypto.getRandomValues && (Rn = function (e) {\n  return crypto.getRandomValues(e);\n});\nvar Tn,\n  Mn = function () {\n    function e() {\n      r(this, e), s(this, \"buffer\", new Uint32Array(8)), s(this, \"cursor\", 1 / 0);\n    }\n    return o(e, [{\n      key: \"nextUint32\",\n      value: function () {\n        return this.cursor >= this.buffer.length && (Rn(this.buffer), this.cursor = 0), this.buffer[this.cursor++];\n      }\n    }]), e;\n  }(),\n  An = function () {\n    return Cn().toString();\n  },\n  Cn = function () {\n    return (Tn || (Tn = new $n())).generate();\n  },\n  Dn = 1800,\n  jn = 60,\n  Nn = 864e5,\n  Hn = function () {\n    function e(t, n) {\n      r(this, e), s(this, \"_sessionIdChangedHandlers\", []), this.config = t, this.persistence = n, this._windowId = void 0, this._sessionId = void 0, this._sessionStartTimestamp = null, this._sessionActivityTimestamp = null;\n      var i = t.persistence_name || t.token,\n        o = t.session_idle_timeout_seconds || Dn;\n      if (\"number\" != typeof o ? (console.warn(\"[PostHog] session_idle_timeout_seconds must be a number. Defaulting to 30 minutes.\"), o = Dn) : o > Dn ? console.warn(\"[PostHog] session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead.\") : o < jn && console.warn(\"[PostHog] session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead.\"), this._sessionTimeoutMs = 1e3 * Math.min(Math.max(o, jn), Dn), this._window_id_storage_key = \"ph_\" + i + \"_window_id\", this._primary_window_exists_storage_key = \"ph_\" + i + \"_primary_window_exists\", this._canUseSessionStorage()) {\n        var a = Ke.parse(this._window_id_storage_key),\n          u = Ke.parse(this._primary_window_exists_storage_key);\n        a && !u ? this._windowId = a : Ke.remove(this._window_id_storage_key), Ke.set(this._primary_window_exists_storage_key, !0);\n      }\n      this._listenToReloadWindow();\n    }\n    return o(e, [{\n      key: \"onSessionId\",\n      value: function (e) {\n        var t = this;\n        return void 0 === this._sessionIdChangedHandlers && (this._sessionIdChangedHandlers = []), this._sessionIdChangedHandlers.push(e), this._sessionId && e(this._sessionId, this._windowId), function () {\n          t._sessionIdChangedHandlers = t._sessionIdChangedHandlers.filter(function (t) {\n            return t !== e;\n          });\n        };\n      }\n    }, {\n      key: \"_canUseSessionStorage\",\n      value: function () {\n        return \"memory\" !== this.config.persistence && !this.persistence.disabled && Ke.is_supported();\n      }\n    }, {\n      key: \"_setWindowId\",\n      value: function (e) {\n        e !== this._windowId && (this._windowId = e, this._canUseSessionStorage() && Ke.set(this._window_id_storage_key, e));\n      }\n    }, {\n      key: \"_getWindowId\",\n      value: function () {\n        return this._windowId ? this._windowId : this._canUseSessionStorage() ? Ke.parse(this._window_id_storage_key) : null;\n      }\n    }, {\n      key: \"_setSessionId\",\n      value: function (e, t, n) {\n        e === this._sessionId && t === this._sessionActivityTimestamp && n === this._sessionStartTimestamp || (this._sessionStartTimestamp = n, this._sessionActivityTimestamp = t, this._sessionId = e, this.persistence.register(s({}, Pe, [t, e, n])));\n      }\n    }, {\n      key: \"_getSessionId\",\n      value: function () {\n        if (this._sessionId && this._sessionActivityTimestamp && this._sessionStartTimestamp) return [this._sessionActivityTimestamp, this._sessionId, this._sessionStartTimestamp];\n        var e = this.persistence.props[Pe];\n        return Array.isArray(e) && 2 === e.length && e.push(e[0]), e || [0, null, 0];\n      }\n    }, {\n      key: \"resetSessionId\",\n      value: function () {\n        this._setSessionId(null, null, null);\n      }\n    }, {\n      key: \"_listenToReloadWindow\",\n      value: function () {\n        var e = this;\n        window.addEventListener(\"beforeunload\", function () {\n          e._canUseSessionStorage() && Ke.remove(e._primary_window_exists_storage_key);\n        });\n      }\n    }, {\n      key: \"checkAndGetSessionAndWindowId\",\n      value: function () {\n        var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],\n          t = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null) || new Date().getTime(),\n          n = h(this._getSessionId(), 3),\n          r = n[0],\n          i = n[1],\n          o = n[2],\n          s = this._getWindowId(),\n          a = o && o > 0 && Math.abs(t - o) > Nn,\n          u = !1;\n        !i || !e && Math.abs(t - r) > this._sessionTimeoutMs || a ? (i = An(), s = An(), o = t, u = !0) : s || (s = An(), u = !0);\n        var c = 0 === r || !e || a ? t : r,\n          l = 0 === o ? new Date().getTime() : o;\n        return this._setWindowId(s), this._setSessionId(i, c, l), u && this._sessionIdChangedHandlers.forEach(function (e) {\n          return e(i, s);\n        }), {\n          sessionId: i,\n          windowId: s,\n          sessionStartTimestamp: l\n        };\n      }\n    }]), e;\n  }(),\n  Ln = o(function e(t, n, i, o) {\n    r(this, e), this.name = \"posthog-js\", this.setupOnce = function (e) {\n      e(function (e) {\n        var r, s, a, u, c;\n        if (\"error\" !== e.level || !t.__loaded) return e;\n        e.tags || (e.tags = {});\n        var l = t.config.ui_host || t.config.api_host;\n        e.tags[\"PostHog Person URL\"] = l + \"/person/\" + t.get_distinct_id(), t.sessionRecordingStarted() && (e.tags[\"PostHog Recording URL\"] = t.get_session_replay_url({\n          withTimestamp: !0\n        }));\n        var d = (null === (r = e.exception) || void 0 === r ? void 0 : r.values) || [],\n          f = {\n            $exception_message: null === (s = d[0]) || void 0 === s ? void 0 : s.value,\n            $exception_type: null === (a = d[0]) || void 0 === a ? void 0 : a.type,\n            $exception_personURL: l + \"/person/\" + t.get_distinct_id(),\n            $sentry_event_id: e.event_id,\n            $sentry_exception: e.exception,\n            $sentry_exception_message: null === (u = d[0]) || void 0 === u ? void 0 : u.value,\n            $sentry_exception_type: null === (c = d[0]) || void 0 === c ? void 0 : c.type,\n            $sentry_tags: e.tags\n          };\n        return n && i && (f.$sentry_url = (o || \"https://sentry.io/organizations/\") + n + \"/issues/?project=\" + i + \"&query=\" + e.event_id), t.capture(\"$exception\", f), e;\n      });\n    };\n  }),\n  Bn = function (e) {\n    Promise && Promise.resolve || console.warn(\"This browser does not have Promise support, and can not use the segment integration\");\n    var t = function (t, n) {\n      t.event.userId || t.event.anonymousId === e.get_distinct_id() || e.reset(), t.event.userId && t.event.userId !== e.get_distinct_id() && (e.register({\n        distinct_id: t.event.userId\n      }), e.reloadFeatureFlags());\n      var r = e._calculate_event_properties(n, t.event.properties);\n      return t.event.properties = Object.assign({}, r, t.event.properties), t;\n    };\n    return {\n      name: \"PostHog JS\",\n      type: \"enrichment\",\n      version: \"1.0.0\",\n      isLoaded: function () {\n        return !0;\n      },\n      load: function () {\n        return Promise.resolve();\n      },\n      track: function (e) {\n        return t(e, e.event.event);\n      },\n      page: function (e) {\n        return t(e, \"$pageview\");\n      },\n      identify: function (e) {\n        return t(e, \"$identify\");\n      },\n      screen: function (e) {\n        return t(e, \"$screen\");\n      }\n    };\n  },\n  qn = function () {\n    function e() {\n      var t = this;\n      r(this, e), s(this, \"_hasSeenPageView\", !1), s(this, \"_updateScrollData\", function () {\n        var e, n, r, i;\n        t._pageViewData || (t._pageViewData = t._createPageViewData());\n        var o = t._pageViewData,\n          s = t._scrollY(),\n          a = t._scrollHeight(),\n          u = t._contentY(),\n          c = t._contentHeight();\n        o.lastScrollY = s, o.maxScrollY = Math.max(s, null !== (e = o.maxScrollY) && void 0 !== e ? e : 0), o.maxScrollHeight = Math.max(a, null !== (n = o.maxScrollHeight) && void 0 !== n ? n : 0), o.lastContentY = u, o.maxContentY = Math.max(u, null !== (r = o.maxContentY) && void 0 !== r ? r : 0), o.maxContentHeight = Math.max(c, null !== (i = o.maxContentHeight) && void 0 !== i ? i : 0);\n      });\n    }\n    return o(e, [{\n      key: \"_createPageViewData\",\n      value: function () {\n        return {\n          pathname: S.location.pathname\n        };\n      }\n    }, {\n      key: \"doPageView\",\n      value: function () {\n        var e, n;\n        return this._hasSeenPageView ? (n = this._pageViewData, this._pageViewData = this._createPageViewData()) : (this._hasSeenPageView = !0, n = void 0, this._pageViewData || (this._pageViewData = this._createPageViewData())), setTimeout(this._updateScrollData, 0), t({\n          $prev_pageview_pathname: null === (e = n) || void 0 === e ? void 0 : e.pathname\n        }, this._calculatePrevPageScrollProperties(n));\n      }\n    }, {\n      key: \"doPageLeave\",\n      value: function () {\n        var e = this._pageViewData;\n        return t({\n          $prev_pageview_pathname: null == e ? void 0 : e.pathname\n        }, this._calculatePrevPageScrollProperties(e));\n      }\n    }, {\n      key: \"_calculatePrevPageScrollProperties\",\n      value: function (e) {\n        if (!e || null == e.maxScrollHeight || null == e.lastScrollY || null == e.maxScrollY || null == e.maxContentHeight || null == e.lastContentY || null == e.maxContentY) return {};\n        var t = e.maxScrollHeight,\n          n = e.lastScrollY,\n          r = e.maxScrollY,\n          i = e.maxContentHeight,\n          o = e.lastContentY,\n          s = e.maxContentY;\n        return t = Math.ceil(t), n = Math.ceil(n), r = Math.ceil(r), i = Math.ceil(i), o = Math.ceil(o), s = Math.ceil(s), {\n          $prev_pageview_last_scroll: n,\n          $prev_pageview_last_scroll_percentage: t <= 1 ? 1 : Un(n / t, 0, 1),\n          $prev_pageview_max_scroll: r,\n          $prev_pageview_max_scroll_percentage: t <= 1 ? 1 : Un(r / t, 0, 1),\n          $prev_pageview_last_content: o,\n          $prev_pageview_last_content_percentage: i <= 1 ? 1 : Un(o / i, 0, 1),\n          $prev_pageview_max_content: s,\n          $prev_pageview_max_content_percentage: i <= 1 ? 1 : Un(s / i, 0, 1)\n        };\n      }\n    }, {\n      key: \"startMeasuringScrollPosition\",\n      value: function () {\n        S.addEventListener(\"scroll\", this._updateScrollData), S.addEventListener(\"scrollend\", this._updateScrollData), S.addEventListener(\"resize\", this._updateScrollData);\n      }\n    }, {\n      key: \"stopMeasuringScrollPosition\",\n      value: function () {\n        S.removeEventListener(\"scroll\", this._updateScrollData), S.removeEventListener(\"scrollend\", this._updateScrollData), S.removeEventListener(\"resize\", this._updateScrollData);\n      }\n    }, {\n      key: \"_scrollHeight\",\n      value: function () {\n        return Math.max(0, S.document.documentElement.scrollHeight - S.document.documentElement.clientHeight);\n      }\n    }, {\n      key: \"_scrollY\",\n      value: function () {\n        return S.scrollY || S.pageYOffset || S.document.documentElement.scrollTop || 0;\n      }\n    }, {\n      key: \"_contentHeight\",\n      value: function () {\n        return S.document.documentElement.scrollHeight || 0;\n      }\n    }, {\n      key: \"_contentY\",\n      value: function () {\n        var e = S.document.documentElement.clientHeight || 0;\n        return this._scrollY() + e;\n      }\n    }]), e;\n  }();\nfunction Un(e, t, n) {\n  return Math.max(t, Math.min(e, n));\n}\nfunction Vn(e) {\n  return \"undefined\" != typeof Event && Gn(e, Event);\n}\nfunction Gn(e, t) {\n  try {\n    return e instanceof t;\n  } catch (e) {\n    return !1;\n  }\n}\nfunction zn(e) {\n  return null === e || \"object\" !== n(e) && \"function\" != typeof e;\n}\nfunction Wn(e, t) {\n  return Object.prototype.toString.call(e) === \"[object \".concat(t, \"]\");\n}\nfunction Yn(e) {\n  return Wn(e, \"DOMError\");\n}\nvar Qn = /\\(error: (.*)\\)/,\n  Jn = 50,\n  Xn = \"?\";\nfunction Kn(e, t, n, r) {\n  var i = {\n    filename: e,\n    function: t,\n    in_app: !0\n  };\n  return void 0 !== n && (i.lineno = n), void 0 !== r && (i.colno = r), i;\n}\nvar Zn = /^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,\n  er = /\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,\n  tr = /^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,\n  nr = /(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,\n  rr = /^\\s*at (?:((?:\\[object object\\])?.+) )?\\(?((?:[-a-z]+):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i;\nvar ir = function () {\n    for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];\n    var i = n.sort(function (e, t) {\n      return e[0] - t[0];\n    }).map(function (e) {\n      return e[1];\n    });\n    return function (e) {\n      for (var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, r = [], o = e.split(\"\\n\"), s = n; s < o.length; s++) {\n        var a = o[s];\n        if (!(a.length > 1024)) {\n          var u = Qn.test(a) ? a.replace(Qn, \"$1\") : a;\n          if (!u.match(/\\S*Error: /)) {\n            var c,\n              l = v(i);\n            try {\n              for (l.s(); !(c = l.n()).done;) {\n                var d = (0, c.value)(u);\n                if (d) {\n                  r.push(d);\n                  break;\n                }\n              }\n            } catch (e) {\n              l.e(e);\n            } finally {\n              l.f();\n            }\n            if (r.length >= Jn) break;\n          }\n        }\n      }\n      return function (e) {\n        if (!e.length) return [];\n        var n = e.slice(0, Jn);\n        return n.reverse(), n.map(function (e) {\n          return t(t({}, e), {}, {\n            filename: e.filename || n[n.length - 1].filename,\n            function: e.function || \"?\"\n          });\n        });\n      }(r);\n    };\n  }.apply(void 0, [[30, function (e) {\n    var t = Zn.exec(e);\n    if (t) {\n      if (t[2] && 0 === t[2].indexOf(\"eval\")) {\n        var n = er.exec(t[2]);\n        n && (t[2] = n[1], t[3] = n[2], t[4] = n[3]);\n      }\n      var r = h(or(t[1] || Xn, t[2]), 2),\n        i = r[0];\n      return Kn(r[1], i, t[3] ? +t[3] : void 0, t[4] ? +t[4] : void 0);\n    }\n  }], [50, function (e) {\n    var t = tr.exec(e);\n    if (t) {\n      if (t[3] && t[3].indexOf(\" > eval\") > -1) {\n        var n = nr.exec(t[3]);\n        n && (t[1] = t[1] || \"eval\", t[3] = n[1], t[4] = n[2], t[5] = \"\");\n      }\n      var r = t[3],\n        i = t[1] || Xn,\n        o = h(or(i, r), 2);\n      return i = o[0], Kn(r = o[1], i, t[4] ? +t[4] : void 0, t[5] ? +t[5] : void 0);\n    }\n  }], [40, function (e) {\n    var t = rr.exec(e);\n    return t ? Kn(t[2], t[1] || Xn, +t[3], t[4] ? +t[4] : void 0) : void 0;\n  }]]),\n  or = function (e, t) {\n    var n = -1 !== e.indexOf(\"safari-extension\"),\n      r = -1 !== e.indexOf(\"safari-web-extension\");\n    return n || r ? [-1 !== e.indexOf(\"@\") ? e.split(\"@\")[0] : Xn, n ? \"safari-extension:\".concat(t) : \"safari-web-extension:\".concat(t)] : [e, t];\n  },\n  sr = /^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,\n  ar = /Minified React error #\\d+;/i;\nfunction ur(e) {\n  var t = e.stacktrace || e.stack || \"\",\n    n = function (e) {\n      if (e) {\n        if (\"number\" == typeof e.framesToPop) return e.framesToPop;\n        if (ar.test(e.message)) return 1;\n      }\n      return 0;\n    }(e);\n  try {\n    return ir(t, n);\n  } catch (e) {}\n  return [];\n}\nfunction cr(e) {\n  var t = ur(e);\n  return {\n    $exception_type: e.name,\n    $exception_message: e.message,\n    $exception_stack_trace_raw: JSON.stringify(t)\n  };\n}\nfunction lr(e) {\n  var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 40,\n    n = Object.keys(e);\n  if (n.sort(), !n.length) return \"[object has no keys]\";\n  for (var r = n.length; r > 0; r--) {\n    var i = n.slice(0, r).join(\", \");\n    if (!(i.length > t)) return r === n.length || i.length <= t ? i : \"\".concat(i.slice(0, t), \"...\");\n  }\n  return \"\";\n}\nfunction dr(e) {\n  var n = h(e, 5),\n    r = n[0],\n    i = n[1],\n    o = n[2],\n    s = n[3],\n    a = n[4],\n    u = {};\n  if (void 0 === a && \"string\" == typeof r) {\n    var c = \"Error\",\n      l = r,\n      d = r.match(sr);\n    d && (c = d[1], l = d[2]), u = {\n      $exception_type: c,\n      $exception_message: l\n    };\n  }\n  var f = a || r;\n  if (Yn(f) || function (e) {\n    return Wn(e, \"DOMException\");\n  }(f)) {\n    var p = f;\n    if (function (e) {\n      return \"stack\" in e;\n    }(f)) u = cr(f);else {\n      var g = p.name || (Yn(p) ? \"DOMError\" : \"DOMException\"),\n        _ = p.message ? \"\".concat(g, \": \").concat(p.message) : g;\n      u = function (e) {\n        return {\n          $exception_type: \"Error\",\n          $exception_message: e\n        };\n      }(_), u.$exception_type = Yn(p) ? \"DOMError\" : \"DOMException\", u.$exception_message = u.$exception_message || _;\n    }\n    \"code\" in p && (u.$exception_DOMException_code = \"\".concat(p.code));\n  } else if (function (e) {\n    return Wn(e, \"ErrorEvent\");\n  }(f) && f.error) u = cr(f.error);else if (function (e) {\n    switch (Object.prototype.toString.call(e)) {\n      case \"[object Error]\":\n      case \"[object Exception]\":\n      case \"[object DOMException]\":\n        return !0;\n      default:\n        return Gn(e, Error);\n    }\n  }(f)) u = cr(f);else if (function (e) {\n    return Wn(e, \"Object\");\n  }(f) || Vn(f)) {\n    u = function (e) {\n      return {\n        $exception_type: Vn(e) ? e.constructor.name : \"Error\",\n        $exception_message: \"Non-Error \".concat(\"exception\", \" captured with keys: \", lr(e))\n      };\n    }(f), u.$exception_is_synthetic = !0;\n  } else u.$exception_type = u.$exception_type || \"Error\", u.$exception_message = u.$exception_message || f, u.$exception_is_synthetic = !0;\n  return t(t(t(t({}, u), {}, {\n    $exception_type: u.$exception_type || \"UnknownErrorType\",\n    $exception_message: u.$exception_message || \"\"\n  }, i ? {\n    $exception_source: i\n  } : {}), o ? {\n    $exception_lineno: o\n  } : {}), s ? {\n    $exception_colno: s\n  } : {});\n}\nvar fr,\n  hr,\n  pr,\n  gr = function () {\n    function e(t) {\n      r(this, e), s(this, \"originalOnErrorHandler\", void 0), s(this, \"originalOnUnhandledRejectionHandler\", void 0), s(this, \"errorsToIgnore\", []), this.instance = t;\n    }\n    return o(e, [{\n      key: \"debugLog\",\n      value: function () {\n        if (this.instance.config.debug) {\n          for (var e, t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];\n          (e = console).log.apply(e, [\"PostHog.js [PostHog.ExceptionObserver]\"].concat(n));\n        }\n      }\n    }, {\n      key: \"startCapturing\",\n      value: function () {\n        var e;\n        if (this.isEnabled() && (null === (e = S.onerror) || void 0 === e || !e.__POSTHOG_INSTRUMENTED__)) try {\n          this.originalOnErrorHandler = S.onerror, S.onerror = function () {\n            for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];\n            return this.captureException(t), !!this.originalOnErrorHandler && this.originalOnErrorHandler.apply(this, t);\n          }.bind(this), S.onerror.__POSTHOG_INSTRUMENTED__ = !0, this.originalOnUnhandledRejectionHandler = S.onunhandledrejection, S.onunhandledrejection = function () {\n            for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];\n            var i = function (e) {\n              var n = h(e, 1)[0],\n                r = n;\n              try {\n                \"reason\" in n ? r = n.reason : \"detail\" in n && \"reason\" in n.detail && (r = n.detail.reason);\n              } catch (e) {}\n              var i = {};\n              return (i = zn(r) ? {\n                $exception_message: \"Non-Error promise rejection captured with value: \".concat(String(r))\n              } : dr([r])).$exception_handled = !1, t(t({}, i), {}, {\n                $exception_type: i.$exception_type = \"UnhandledRejection\",\n                $exception_message: i.$exception_message = i.$exception_message || n.reason || String(r)\n              });\n            }(n);\n            return this.sendExceptionEvent(i), !this.originalOnUnhandledRejectionHandler || this.originalOnUnhandledRejectionHandler.apply(S, n);\n          }.bind(this), S.onunhandledrejection.__POSTHOG_INSTRUMENTED__ = !0;\n        } catch (e) {\n          console.error(\"PostHog failed to start exception autocapture\", e), this.stopCapturing();\n        }\n      }\n    }, {\n      key: \"stopCapturing\",\n      value: function () {\n        var e, t;\n        void 0 !== this.originalOnErrorHandler && (S.onerror = this.originalOnErrorHandler, this.originalOnErrorHandler = null), null === (e = S.onerror) || void 0 === e || delete e.__POSTHOG_INSTRUMENTED__, void 0 !== this.originalOnUnhandledRejectionHandler && (S.onunhandledrejection = this.originalOnUnhandledRejectionHandler, this.originalOnUnhandledRejectionHandler = null), null === (t = S.onunhandledrejection) || void 0 === t || delete t.__POSTHOG_INSTRUMENTED__;\n      }\n    }, {\n      key: \"isCapturing\",\n      value: function () {\n        var e;\n        return !(null === (e = S.onerror) || void 0 === e || !e.__POSTHOG_INSTRUMENTED__);\n      }\n    }, {\n      key: \"isEnabled\",\n      value: function () {\n        var e;\n        return null !== (e = this.remoteEnabled) && void 0 !== e && e;\n      }\n    }, {\n      key: \"afterDecideResponse\",\n      value: function (e) {\n        var t = e.autocaptureExceptions;\n        if (this.remoteEnabled = !!t || !1, !zn(t) && \"errors_to_ignore\" in t && Array.isArray(t.errors_to_ignore)) {\n          var n = t.errors_to_ignore;\n          this.errorsToIgnore = n.map(function (e) {\n            return new RegExp(e);\n          });\n        }\n        this.isEnabled() ? (this.startCapturing(), this.debugLog(\"Remote config for exception autocapture is enabled, starting\", t)) : this.debugLog(\"Remote config for exception autocapture is disabled, not starting\", t);\n      }\n    }, {\n      key: \"captureException\",\n      value: function (e, n) {\n        var r = dr(e);\n        if (this.errorsToIgnore.some(function (e) {\n          return e.test(r.$exception_message || \"\");\n        })) this.debugLog(\"Ignoring exception based on remote config\", r);else {\n          var i = t(t({}, n), r),\n            o = this.instance.config.ui_host || this.instance.config.api_host;\n          r.$exception_personURL = o + \"/person/\" + this.instance.get_distinct_id(), this.sendExceptionEvent(i);\n        }\n      }\n    }, {\n      key: \"sendExceptionEvent\",\n      value: function (e) {\n        this.instance.capture(\"$exception\", e, {\n          transport: \"XHR\",\n          method: \"POST\",\n          endpoint: \"/e/\",\n          _noTruncate: !0,\n          _batchKey: \"exceptionEvent\"\n        });\n      }\n    }]), e;\n  }(),\n  _r = {\n    icontains: function (e) {\n      return window.location.href.toLowerCase().indexOf(e.toLowerCase()) > -1;\n    },\n    regex: function (e) {\n      return G(window.location.href, e);\n    },\n    exact: function (e) {\n      return window.location.href === e;\n    }\n  },\n  vr = function () {\n    function e(t) {\n      r(this, e), this.instance = t;\n    }\n    return o(e, [{\n      key: \"getSurveys\",\n      value: function (e) {\n        var t = this,\n          n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],\n          r = this.instance.get_property(Re);\n        if (r && !n) return e(r);\n        this.instance._send_request(\"\".concat(this.instance.config.api_host, \"/api/surveys/?token=\").concat(this.instance.config.token), {}, {\n          method: \"GET\"\n        }, function (n) {\n          var r,\n            i = n.surveys || [];\n          return null === (r = t.instance.persistence) || void 0 === r || r.register(s({}, Re, i)), e(i);\n        });\n      }\n    }, {\n      key: \"getActiveMatchingSurveys\",\n      value: function (e) {\n        var t = this,\n          n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        this.getSurveys(function (n) {\n          var r = n.filter(function (e) {\n            return !(!e.start_date || e.end_date);\n          }).filter(function (e) {\n            var t, n, r, i;\n            if (!e.conditions) return !0;\n            var o = null === (t = e.conditions) || void 0 === t || !t.url || _r[null !== (n = null === (r = e.conditions) || void 0 === r ? void 0 : r.urlMatchType) && void 0 !== n ? n : \"icontains\"](e.conditions.url),\n              s = null === (i = e.conditions) || void 0 === i || !i.selector || document.querySelector(e.conditions.selector);\n            return o && s;\n          }).filter(function (e) {\n            if (!e.linked_flag_key && !e.targeting_flag_key) return !0;\n            var n = !e.linked_flag_key || t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),\n              r = !e.targeting_flag_key || t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key);\n            return n && r;\n          });\n          return e(r);\n        }, n);\n      }\n    }]), e;\n  }(),\n  mr = 6e4,\n  yr = function () {\n    function e() {\n      var t = this;\n      r(this, e), s(this, \"limits\", {}), s(this, \"checkForLimiting\", function (e) {\n        try {\n          (JSON.parse(e.responseText).quota_limited || []).forEach(function (e) {\n            T.log(\"[PostHog RateLimiter] \".concat(e || \"events\", \" is quota limited.\")), t.limits[e] = new Date().getTime() + mr;\n          });\n        } catch (e) {\n          return void T.error(e);\n        }\n      });\n    }\n    return o(e, [{\n      key: \"isRateLimited\",\n      value: function (e) {\n        var t = this.limits[e || \"events\"] || !1;\n        return !1 !== t && new Date().getTime() < t;\n      }\n    }]), e;\n  }();\n!function (e) {\n  e[e.INIT_MODULE = 0] = \"INIT_MODULE\", e[e.INIT_SNIPPET = 1] = \"INIT_SNIPPET\";\n}(fr || (fr = {}));\nvar br = function () {},\n  wr = {},\n  kr = \"posthog\",\n  Sr = S.XMLHttpRequest && \"withCredentials\" in new XMLHttpRequest(),\n  Er = !Sr && -1 === P.indexOf(\"MSIE\") && -1 === P.indexOf(\"Mozilla\"),\n  xr = function () {\n    var e, t, n;\n    return {\n      api_host: \"https://app.posthog.com\",\n      api_method: \"POST\",\n      api_transport: \"XHR\",\n      ui_host: null,\n      token: \"\",\n      autocapture: !0,\n      rageclick: !0,\n      cross_subdomain_cookie: -1 === (null == x || null === (e = x.location) || void 0 === e || null === (t = e.hostname) || void 0 === t ? void 0 : t.indexOf(\"herokuapp.com\")),\n      persistence: \"cookie\",\n      persistence_name: \"\",\n      cookie_name: \"\",\n      loaded: br,\n      store_google: !0,\n      custom_campaign_params: [],\n      custom_blocked_useragents: [],\n      save_referrer: !0,\n      capture_pageview: !0,\n      capture_pageleave: !0,\n      debug: !1,\n      verbose: !1,\n      cookie_expiration: 365,\n      upgrade: !1,\n      disable_session_recording: !1,\n      disable_persistence: !1,\n      disable_cookie: !1,\n      enable_recording_console_log: void 0,\n      secure_cookie: \"https:\" === (null == S || null === (n = S.location) || void 0 === n ? void 0 : n.protocol),\n      ip: !0,\n      opt_out_capturing_by_default: !1,\n      opt_out_persistence_by_default: !1,\n      opt_out_capturing_persistence_type: \"localStorage\",\n      opt_out_capturing_cookie_prefix: null,\n      opt_in_site_apps: !1,\n      property_blacklist: [],\n      respect_dnt: !1,\n      sanitize_properties: null,\n      xhr_headers: {},\n      inapp_protocol: \"//\",\n      inapp_link_new_window: !1,\n      request_batching: !0,\n      properties_string_max_length: 65535,\n      session_recording: {},\n      mask_all_element_attributes: !1,\n      mask_all_text: !1,\n      advanced_disable_decide: !1,\n      advanced_disable_feature_flags: !1,\n      advanced_disable_feature_flags_on_first_load: !1,\n      advanced_disable_toolbar_metrics: !1,\n      on_xhr_error: function (e) {\n        var t = \"Bad HTTP status: \" + e.status + \" \" + e.statusText;\n        console.error(t);\n      },\n      get_device_id: function (e) {\n        return e;\n      },\n      _onCapture: br,\n      capture_performance: void 0,\n      name: \"posthog\",\n      callback_fn: \"posthog._jsc\",\n      bootstrap: {},\n      disable_compression: !1,\n      session_idle_timeout_seconds: 1800\n    };\n  },\n  Pr = function (e, t, n, r) {\n    var i,\n      o = n !== kr && pr ? n ? pr[n] : void 0 : pr,\n      s = {\n        initComplete: !1,\n        syncCode: !1\n      },\n      a = function (e) {\n        return function (t) {\n          s[e] || (s[e] = !0, s.initComplete && s.syncCode && (null == r || r(t)));\n        };\n      };\n    if (o && hr === fr.INIT_MODULE) i = o;else {\n      if (o && !j(o)) return void console.error(\"You have already initialized \" + n);\n      i = new Fr();\n    }\n    if (i._init(e, t, n, a(\"initComplete\")), i.toolbar.maybeLoadToolbar(), i.sessionRecording = new pt(i), i.sessionRecording.startRecordingIfEnabled(), i.webPerformance = new mt(i), i.webPerformance.startObservingIfEnabled(), i.config.__preview_measure_pageview_stats && i.pageViewManager.startMeasuringScrollPosition(), i.exceptionAutocapture = new gr(i), i.__autocapture = i.config.autocapture, je._setIsAutocaptureEnabled(i), je._isAutocaptureEnabled) {\n      i.__autocapture = i.config.autocapture;\n      je.enabledForProject(i.config.token, 100, 100) ? je.isBrowserSupported() ? je.init(i) : (i.__autocapture = !1, T.log(\"Disabling Automatic Event Collection because this browser is not supported\")) : (i.__autocapture = !1, T.log(\"Not in active bucket: disabling Automatic Event Collection.\"));\n    }\n    return m.DEBUG = m.DEBUG || i.config.debug, void 0 !== o && j(o) && (i._execute_array.call(i.people, o.people), i._execute_array(o)), a(\"syncCode\")(i), i;\n  },\n  Fr = function () {\n    function e() {\n      var t = this;\n      r(this, e), this.config = xr(), this.compression = {}, this.decideEndpointWasHit = !1, this.SentryIntegration = Ln, this.segmentIntegration = function () {\n        return Bn(t);\n      }, this.__captureHooks = [], this.__request_queue = [], this.__loaded = !1, this.__loaded_recorder_version = void 0, this.__autocapture = void 0, this._jsc = function () {}, this.featureFlags = new qe(this), this.toolbar = new St(this), this.pageViewManager = new qn(), this.surveys = new vr(this), this.rateLimiter = new yr(), this.people = {\n        set: function (e, n, r) {\n          var i = \"string\" == typeof e ? s({}, e, n) : e;\n          t.setPersonProperties(i), null == r || r({});\n        },\n        set_once: function (e, n, r) {\n          var i = \"string\" == typeof e ? s({}, e, n) : e;\n          t.setPersonProperties(void 0, i), null == r || r({});\n        }\n      };\n    }\n    return o(e, [{\n      key: \"init\",\n      value: function (e, t, n) {\n        if (q(n)) console.error(\"You must name your new library: init(token, config, name)\");else {\n          if (n !== kr) {\n            var r = Pr(e, t, n, function (e) {\n              pr[n] = e, e._loaded();\n            });\n            return pr[n] = r, r;\n          }\n          console.error(\"You must initialize the main posthog object right after you include the PostHog js snippet\");\n        }\n      }\n    }, {\n      key: \"_init\",\n      value: function (e) {\n        var n,\n          r,\n          i = this,\n          o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          s = arguments.length > 2 ? arguments[2] : void 0,\n          a = arguments.length > 3 ? arguments[3] : void 0;\n        this.__loaded = !0, this.config = {}, this._triggered_notifs = [];\n        var u,\n          c = {\n            segmentRegister: !1,\n            syncCode: !1\n          },\n          l = function (e) {\n            return function () {\n              c[e] || (c[e] = !0, c.segmentRegister && c.syncCode && (null == a || a(i)));\n            };\n          };\n        (this.set_config(D({}, xr(), o, {\n          name: s,\n          token: e,\n          callback_fn: (s === kr ? s : kr + \".\" + s) + \"._jsc\"\n        })), this._jsc = function () {}, null != S && null !== (n = S.rrweb) && void 0 !== n && n.record || null != S && S.rrwebRecord) && (this.__loaded_recorder_version = null == S || null === (u = S.rrweb) || void 0 === u ? void 0 : u.version);\n        if (this.persistence = new et(this.config), this._requestQueue = new Ct(this._handle_queued_event.bind(this)), this._retryQueue = new Fn(this.config.on_xhr_error, this.rateLimiter), this.__captureHooks = [], this.__request_queue = [], this.sessionManager = new Hn(this.config, this.persistence), this.sessionPersistence = \"sessionStorage\" === this.config.persistence ? this.persistence : new et(t(t({}, this.config), {}, {\n          persistence: \"sessionStorage\"\n        })), this._gdpr_init(), o.segment ? (this.config.get_device_id = function () {\n          return o.segment.user().anonymousId();\n        }, o.segment.user().id() && (this.register({\n          distinct_id: o.segment.user().id()\n        }), this.persistence.set_user_state(\"identified\")), o.segment.register(this.segmentIntegration()).then(l(\"segmentRegister\"))) : l(\"segmentRegister\")(), void 0 !== (null === (r = o.bootstrap) || void 0 === r ? void 0 : r.distinctID)) {\n          var d,\n            f,\n            h = this.config.get_device_id(An()),\n            p = null !== (d = o.bootstrap) && void 0 !== d && d.isIdentifiedID ? h : o.bootstrap.distinctID;\n          this.persistence.set_user_state(null !== (f = o.bootstrap) && void 0 !== f && f.isIdentifiedID ? \"identified\" : \"anonymous\"), this.register({\n            distinct_id: o.bootstrap.distinctID,\n            $device_id: p\n          });\n        }\n        if (this._hasBootstrappedFeatureFlags()) {\n          var g,\n            _,\n            v = Object.keys((null === (g = o.bootstrap) || void 0 === g ? void 0 : g.featureFlags) || {}).filter(function (e) {\n              var t, n;\n              return !(null === (t = o.bootstrap) || void 0 === t || null === (n = t.featureFlags) || void 0 === n || !n[e]);\n            }).reduce(function (e, t) {\n              var n, r;\n              return e[t] = (null === (n = o.bootstrap) || void 0 === n || null === (r = n.featureFlags) || void 0 === r ? void 0 : r[t]) || !1, e;\n            }, {}),\n            m = Object.keys((null === (_ = o.bootstrap) || void 0 === _ ? void 0 : _.featureFlagPayloads) || {}).filter(function (e) {\n              return v[e];\n            }).reduce(function (e, t) {\n              var n, r, i, s;\n              null !== (n = o.bootstrap) && void 0 !== n && null !== (r = n.featureFlagPayloads) && void 0 !== r && r[t] && (e[t] = null === (i = o.bootstrap) || void 0 === i || null === (s = i.featureFlagPayloads) || void 0 === s ? void 0 : s[t]);\n              return e;\n            }, {});\n          this.featureFlags.receivedFeatureFlags({\n            featureFlags: v,\n            featureFlagPayloads: m\n          });\n        }\n        if (!this.get_distinct_id()) {\n          var y = this.config.get_device_id(An());\n          this.register_once({\n            distinct_id: y,\n            $device_id: y\n          }, \"\"), this.persistence.set_user_state(\"anonymous\");\n        }\n        S.addEventListener && S.addEventListener(\"onpagehide\" in self ? \"pagehide\" : \"unload\", this._handle_unload.bind(this)), l(\"syncCode\")();\n      }\n    }, {\n      key: \"_loaded\",\n      value: function () {\n        var e = this.config.advanced_disable_decide;\n        e || this.featureFlags.setReloadingPaused(!0);\n        try {\n          this.config.loaded(this);\n        } catch (e) {\n          console.error(\"`loaded` function failed\", e);\n        }\n        this._start_queue_if_opted_in(), this.config.capture_pageview && this.capture(\"$pageview\", {\n          title: x.title\n        }, {\n          send_instantly: !0\n        }), e || (new bt(this).call(), this.featureFlags.resetRequestQueue());\n      }\n    }, {\n      key: \"_start_queue_if_opted_in\",\n      value: function () {\n        var e;\n        this.has_opted_out_capturing() || this.config.request_batching && (null === (e = this._requestQueue) || void 0 === e || e.poll());\n      }\n    }, {\n      key: \"_dom_loaded\",\n      value: function () {\n        var e = this;\n        this.has_opted_out_capturing() || A(this.__request_queue, function (t) {\n          e._send_request.apply(e, p(t));\n        }), this.__request_queue = [], this._start_queue_if_opted_in();\n      }\n    }, {\n      key: \"_prepare_callback\",\n      value: function (e, t) {\n        if (q(e)) return null;\n        if (Sr) return function (n) {\n          e(n, t);\n        };\n        var n = this._jsc,\n          r = \"\" + Math.floor(1e8 * Math.random()),\n          i = this.config.callback_fn + \"[\" + r + \"]\";\n        return n[r] = function (i) {\n          delete n[r], e(i, t);\n        }, i;\n      }\n    }, {\n      key: \"_handle_unload\",\n      value: function () {\n        var e, t;\n        this.config.request_batching ? (this.config.capture_pageview && this.config.capture_pageleave && this.capture(\"$pageleave\"), null === (e = this._requestQueue) || void 0 === e || e.unload(), null === (t = this._retryQueue) || void 0 === t || t.unload()) : this.config.capture_pageview && this.config.capture_pageleave && this.capture(\"$pageleave\", null, {\n          transport: \"sendBeacon\"\n        });\n      }\n    }, {\n      key: \"_handle_queued_event\",\n      value: function (e, t, n) {\n        var r = JSON.stringify(t);\n        this.__compress_and_send_json_request(e, r, n || wr, br);\n      }\n    }, {\n      key: \"__compress_and_send_json_request\",\n      value: function (e, n, r, i) {\n        var o = function (e, n, r) {\n            return e === Zt.GZipJS ? [wn(kn(n), {\n              mtime: 0\n            }), t(t({}, r), {}, {\n              blob: !0,\n              urlQueryArgs: {\n                compression: Zt.GZipJS\n              }\n            })] : [{\n              data: X(n)\n            }, r];\n          }(this.compression[Zt.GZipJS] ? Zt.GZipJS : Zt.Base64, n, r),\n          s = h(o, 2),\n          a = s[0],\n          u = s[1];\n        this._send_request(e, a, u, i);\n      }\n    }, {\n      key: \"_send_request\",\n      value: function (e, n, r, i) {\n        if (this.__loaded && this._retryQueue && !this.rateLimiter.isRateLimited(r._batchKey)) if (Er) this.__request_queue.push([e, n, r, i]);else {\n          var o = {\n            method: this.config.api_method,\n            transport: this.config.api_transport,\n            verbose: this.config.verbose\n          };\n          r = D(o, r || {}), Sr || (r.method = \"GET\");\n          var s = \"sendBeacon\" in S.navigator && \"sendBeacon\" === r.transport;\n          if (e = Sn(e, r.urlQueryArgs || {}, {\n            ip: this.config.ip\n          }), s) try {\n            S.navigator.sendBeacon(e, En(n, t(t({}, r), {}, {\n              sendBeacon: !0\n            })));\n          } catch (e) {} else if (Sr) try {\n            xn({\n              url: e,\n              data: n,\n              headers: this.config.xhr_headers,\n              options: r,\n              callback: i,\n              retriesPerformedSoFar: 0,\n              retryQueue: this._retryQueue,\n              onXHRError: this.config.on_xhr_error,\n              onResponse: this.rateLimiter.checkForLimiting\n            });\n          } catch (e) {\n            console.error(e);\n          } else {\n            var a,\n              u = x.createElement(\"script\");\n            u.type = \"text/javascript\", u.async = !0, u.defer = !0, u.src = e;\n            var c = x.getElementsByTagName(\"script\")[0];\n            null === (a = c.parentNode) || void 0 === a || a.insertBefore(u, c);\n          }\n        }\n      }\n    }, {\n      key: \"_execute_array\",\n      value: function (e) {\n        var t,\n          n = this,\n          r = [],\n          i = [],\n          o = [];\n        A(e, function (e) {\n          e && (t = e[0], j(t) ? o.push(e) : \"function\" == typeof e ? e.call(n) : j(e) && \"alias\" === t ? r.push(e) : j(e) && -1 !== t.indexOf(\"capture\") && \"function\" == typeof n[t] ? o.push(e) : i.push(e));\n        });\n        var s = function (e, t) {\n          A(e, function (e) {\n            if (j(e[0])) {\n              var n = t;\n              C(e, function (e) {\n                n = n[e[0]].apply(n, e.slice(1));\n              });\n            } else this[e[0]].apply(this, e.slice(1));\n          }, t);\n        };\n        s(r, this), s(i, this), s(o, this);\n      }\n    }, {\n      key: \"_hasBootstrappedFeatureFlags\",\n      value: function () {\n        var e, t;\n        return (null === (e = this.config.bootstrap) || void 0 === e ? void 0 : e.featureFlags) && Object.keys(null === (t = this.config.bootstrap) || void 0 === t ? void 0 : t.featureFlags).length > 0 || !1;\n      }\n    }, {\n      key: \"push\",\n      value: function (e) {\n        this._execute_array([e]);\n      }\n    }, {\n      key: \"captureException\",\n      value: function (e, t) {\n        var n;\n        null === (n = this.exceptionAutocapture) || void 0 === n || n.captureException([e.name, void 0, void 0, void 0, e], t);\n      }\n    }, {\n      key: \"capture\",\n      value: function (e, n) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : wr;\n        if (!this.__loaded || !this.sessionPersistence || !this._requestQueue) return T.unintializedWarning(\"posthog.capture\");\n        if (!function (e, t) {\n          var n = !1;\n          try {\n            var r = e.config.token,\n              i = e.config.respect_dnt,\n              o = e.config.opt_out_capturing_persistence_type,\n              s = e.config.opt_out_capturing_cookie_prefix || void 0,\n              a = e.config.window;\n            r && (n = It(r, {\n              respectDnt: i,\n              persistenceType: o,\n              persistencePrefix: s,\n              window: a\n            }));\n          } catch (e) {\n            t || console.error(\"Unexpected error when checking capturing opt-out status: \" + e);\n          }\n          return n;\n        }(this, !1)) {\n          var i = (r = r || wr).transport;\n          if (i && (r.transport = i), q(e) || \"string\" != typeof e) console.error(\"No event name provided to posthog.capture\");else if (!ee(P, this.config.custom_blocked_useragents)) {\n            this.sessionPersistence.update_search_keyword(), this.config.store_google && this.sessionPersistence.update_campaign_params(), this.config.save_referrer && this.sessionPersistence.update_referrer_info();\n            var o = {\n              uuid: An(),\n              event: e,\n              properties: this._calculate_event_properties(e, n || {})\n            };\n            \"$identify\" === e && (o.$set = r.$set, o.$set_once = r.$set_once), (o = J(o, r._noTruncate ? null : this.config.properties_string_max_length)).timestamp = r.timestamp || new Date();\n            var s = t(t({}, o.properties.$set), o.$set);\n            B(s) || this.setPersonPropertiesForFlags(s), this.config.debug && T.log(\"PostHog.js send\", o);\n            var a = JSON.stringify(o),\n              u = this.config.api_host + (r.endpoint || \"/e/\"),\n              c = r !== wr;\n            return !this.config.request_batching || c && !r._batchKey || r.send_instantly ? this.__compress_and_send_json_request(u, a, r) : this._requestQueue.enqueue(u, o, r), this._invokeCaptureHooks(e, o), o;\n          }\n        }\n      }\n    }, {\n      key: \"_addCaptureHook\",\n      value: function (e) {\n        this.__captureHooks.push(e);\n      }\n    }, {\n      key: \"_invokeCaptureHooks\",\n      value: function (e, t) {\n        this.config._onCapture(e, t), C(this.__captureHooks, function (t) {\n          return t(e);\n        });\n      }\n    }, {\n      key: \"_calculate_event_properties\",\n      value: function (e, n) {\n        if (!this.persistence || !this.sessionPersistence) return n;\n        var r = this.persistence.remove_event_timer(e),\n          i = t({}, n);\n        if (i.token = this.config.token, \"$snapshot\" === e) {\n          var o = t(t({}, this.persistence.properties()), this.sessionPersistence.properties());\n          return i.distinct_id = o.distinct_id, i;\n        }\n        var s = oe.properties();\n        if (this.sessionManager) {\n          var a = this.sessionManager.checkAndGetSessionAndWindowId(),\n            u = a.sessionId,\n            c = a.windowId;\n          i.$session_id = u, i.$window_id = c;\n        }\n        if (this.config.__preview_measure_pageview_stats) {\n          var l = {};\n          \"$pageview\" === e ? l = this.pageViewManager.doPageView() : \"$pageleave\" === e && (l = this.pageViewManager.doPageLeave()), i = D(i, l);\n        }\n        if (\"$pageview\" === e && (i.title = x.title), \"$performance_event\" === e) {\n          var d = this.persistence.properties();\n          return i.distinct_id = d.distinct_id, i.$current_url = s.$current_url, i;\n        }\n        if (void 0 !== r) {\n          var f = new Date().getTime() - r;\n          i.$duration = parseFloat((f / 1e3).toFixed(3));\n        }\n        i = D({}, oe.properties(), this.persistence.properties(), this.sessionPersistence.properties(), i);\n        var h = this.config.property_blacklist;\n        j(h) ? C(h, function (e) {\n          delete i[e];\n        }) : console.error(\"Invalid value for property_blacklist config: \" + h);\n        var p = this.config.sanitize_properties;\n        return p && (i = p(i, e)), i;\n      }\n    }, {\n      key: \"register\",\n      value: function (e, t) {\n        var n;\n        null === (n = this.persistence) || void 0 === n || n.register(e, t);\n      }\n    }, {\n      key: \"register_once\",\n      value: function (e, t, n) {\n        var r;\n        null === (r = this.persistence) || void 0 === r || r.register_once(e, t, n);\n      }\n    }, {\n      key: \"register_for_session\",\n      value: function (e) {\n        var t;\n        null === (t = this.sessionPersistence) || void 0 === t || t.register(e);\n      }\n    }, {\n      key: \"unregister\",\n      value: function (e) {\n        var t;\n        null === (t = this.persistence) || void 0 === t || t.unregister(e);\n      }\n    }, {\n      key: \"unregister_for_session\",\n      value: function (e) {\n        var t;\n        null === (t = this.sessionPersistence) || void 0 === t || t.unregister(e);\n      }\n    }, {\n      key: \"_register_single\",\n      value: function (e, t) {\n        this.register(s({}, e, t));\n      }\n    }, {\n      key: \"getFeatureFlag\",\n      value: function (e, t) {\n        return this.featureFlags.getFeatureFlag(e, t);\n      }\n    }, {\n      key: \"getFeatureFlagPayload\",\n      value: function (e) {\n        var t = this.featureFlags.getFeatureFlagPayload(e);\n        try {\n          return JSON.parse(t);\n        } catch (e) {\n          return t;\n        }\n      }\n    }, {\n      key: \"isFeatureEnabled\",\n      value: function (e, t) {\n        return this.featureFlags.isFeatureEnabled(e, t);\n      }\n    }, {\n      key: \"reloadFeatureFlags\",\n      value: function () {\n        this.featureFlags.reloadFeatureFlags();\n      }\n    }, {\n      key: \"updateEarlyAccessFeatureEnrollment\",\n      value: function (e, t) {\n        this.featureFlags.updateEarlyAccessFeatureEnrollment(e, t);\n      }\n    }, {\n      key: \"getEarlyAccessFeatures\",\n      value: function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        return this.featureFlags.getEarlyAccessFeatures(e, t);\n      }\n    }, {\n      key: \"onFeatureFlags\",\n      value: function (e) {\n        return this.featureFlags.onFeatureFlags(e);\n      }\n    }, {\n      key: \"onSessionId\",\n      value: function (e) {\n        var t, n;\n        return null !== (t = null === (n = this.sessionManager) || void 0 === n ? void 0 : n.onSessionId(e)) && void 0 !== t ? t : function () {};\n      }\n    }, {\n      key: \"getSurveys\",\n      value: function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        this.surveys.getSurveys(e, t);\n      }\n    }, {\n      key: \"getActiveMatchingSurveys\",\n      value: function (e) {\n        var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];\n        this.surveys.getActiveMatchingSurveys(e, t);\n      }\n    }, {\n      key: \"identify\",\n      value: function (e, t, n) {\n        if (!this.__loaded || !this.persistence) return T.unintializedWarning(\"posthog.identify\");\n        if (e) {\n          var r = this.get_distinct_id();\n          if (this.register({\n            $user_id: e\n          }), !this.get_property(\"$device_id\")) {\n            var i = r;\n            this.register_once({\n              $had_persisted_distinct_id: !0,\n              $device_id: i\n            }, \"\");\n          }\n          e !== r && e !== this.get_property(be) && (this.unregister(be), this.register({\n            distinct_id: e\n          }));\n          var o = \"anonymous\" === this.persistence.get_user_state();\n          e !== r && o ? (this.persistence.set_user_state(\"identified\"), this.setPersonPropertiesForFlags(t || {}, !1), this.capture(\"$identify\", {\n            distinct_id: e,\n            $anon_distinct_id: r\n          }, {\n            $set: t || {},\n            $set_once: n || {}\n          }), this.featureFlags.setAnonymousDistinctId(r)) : (t || n) && this.setPersonProperties(t, n), e !== r && (this.reloadFeatureFlags(), this.unregister(Te));\n        } else console.error(\"Unique user id has not been set in posthog.identify\");\n      }\n    }, {\n      key: \"setPersonProperties\",\n      value: function (e, t) {\n        (e || t) && (this.setPersonPropertiesForFlags(e || {}), this.capture(\"$set\", {\n          $set: e || {},\n          $set_once: t || {}\n        }));\n      }\n    }, {\n      key: \"group\",\n      value: function (e, n, r) {\n        if (e && n) {\n          var i = this.getGroups();\n          i[e] !== n && this.resetGroupPropertiesForFlags(e), this.register({\n            $groups: t(t({}, i), {}, s({}, e, n))\n          }), r && (this.capture(\"$groupidentify\", {\n            $group_type: e,\n            $group_key: n,\n            $group_set: r\n          }), this.setGroupPropertiesForFlags(s({}, e, r))), i[e] === n || r || this.reloadFeatureFlags();\n        } else console.error(\"posthog.group requires a group type and group key\");\n      }\n    }, {\n      key: \"resetGroups\",\n      value: function () {\n        this.register({\n          $groups: {}\n        }), this.resetGroupPropertiesForFlags(), this.reloadFeatureFlags();\n      }\n    }, {\n      key: \"setPersonPropertiesForFlags\",\n      value: function (e) {\n        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        this.featureFlags.setPersonPropertiesForFlags(e, t);\n      }\n    }, {\n      key: \"resetPersonPropertiesForFlags\",\n      value: function () {\n        this.featureFlags.resetPersonPropertiesForFlags();\n      }\n    }, {\n      key: \"setGroupPropertiesForFlags\",\n      value: function (e) {\n        var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];\n        this.featureFlags.setGroupPropertiesForFlags(e, t);\n      }\n    }, {\n      key: \"resetGroupPropertiesForFlags\",\n      value: function (e) {\n        this.featureFlags.resetGroupPropertiesForFlags(e);\n      }\n    }, {\n      key: \"reset\",\n      value: function (e) {\n        var t, n, r, i;\n        if (!this.__loaded) return T.unintializedWarning(\"posthog.reset\");\n        var o = this.get_property(\"$device_id\");\n        null === (t = this.persistence) || void 0 === t || t.clear(), null === (n = this.sessionPersistence) || void 0 === n || n.clear(), null === (r = this.persistence) || void 0 === r || r.set_user_state(\"anonymous\"), null === (i = this.sessionManager) || void 0 === i || i.resetSessionId();\n        var s = this.config.get_device_id(An());\n        this.register_once({\n          distinct_id: s,\n          $device_id: e ? s : o\n        }, \"\");\n      }\n    }, {\n      key: \"get_distinct_id\",\n      value: function () {\n        return this.get_property(\"distinct_id\");\n      }\n    }, {\n      key: \"getGroups\",\n      value: function () {\n        return this.get_property(\"$groups\") || {};\n      }\n    }, {\n      key: \"get_session_id\",\n      value: function () {\n        var e, t;\n        return null !== (e = null === (t = this.sessionManager) || void 0 === t ? void 0 : t.checkAndGetSessionAndWindowId(!0).sessionId) && void 0 !== e ? e : \"\";\n      }\n    }, {\n      key: \"get_session_replay_url\",\n      value: function (e) {\n        if (!this.sessionManager) return \"\";\n        var t = this.config.ui_host || this.config.api_host,\n          n = this.sessionManager.checkAndGetSessionAndWindowId(!0),\n          r = n.sessionId,\n          i = n.sessionStartTimestamp,\n          o = t + \"/replay/\" + r;\n        if (null != e && e.withTimestamp && i) {\n          var s,\n            a = null !== (s = e.timestampLookBack) && void 0 !== s ? s : 10;\n          if (!i) return o;\n          var u = Math.max(Math.floor((new Date().getTime() - i) / 1e3) - a, 0);\n          o += \"?t=\".concat(u);\n        }\n        return o;\n      }\n    }, {\n      key: \"alias\",\n      value: function (e, t) {\n        return e === this.get_property(ye) ? (T.critical(\"Attempting to create alias for existing People user - aborting.\"), -2) : (q(t) && (t = this.get_distinct_id()), e !== t ? (this._register_single(be, e), this.capture(\"$create_alias\", {\n          alias: e,\n          distinct_id: t\n        })) : (console.error(\"alias matches current distinct_id - skipping api call.\"), this.identify(e), -1));\n      }\n    }, {\n      key: \"set_config\",\n      value: function (e) {\n        var n,\n          r,\n          i = t({}, this.config);\n        L(e) && (D(this.config, e), this.config.persistence_name || (this.config.persistence_name = this.config.cookie_name), this.config.disable_persistence || (this.config.disable_persistence = this.config.disable_cookie), null === (n = this.persistence) || void 0 === n || n.update_config(this.config), null === (r = this.sessionPersistence) || void 0 === r || r.update_config(this.config), ze.is_supported() && \"true\" === ze.get(\"ph_debug\") && (this.config.debug = !0), this.config.debug && (m.DEBUG = !0), this.sessionRecording && void 0 !== e.disable_session_recording && i.disable_session_recording !== e.disable_session_recording && (e.disable_session_recording ? this.sessionRecording.stopRecording() : this.sessionRecording.startRecordingIfEnabled()));\n      }\n    }, {\n      key: \"startSessionRecording\",\n      value: function () {\n        this.set_config({\n          disable_session_recording: !1\n        });\n      }\n    }, {\n      key: \"stopSessionRecording\",\n      value: function () {\n        this.set_config({\n          disable_session_recording: !0\n        });\n      }\n    }, {\n      key: \"sessionRecordingStarted\",\n      value: function () {\n        var e;\n        return !(null === (e = this.sessionRecording) || void 0 === e || !e.started());\n      }\n    }, {\n      key: \"loadToolbar\",\n      value: function (e) {\n        return this.toolbar.loadToolbar(e);\n      }\n    }, {\n      key: \"get_property\",\n      value: function (e) {\n        var t;\n        return null === (t = this.persistence) || void 0 === t ? void 0 : t.props[e];\n      }\n    }, {\n      key: \"getSessionProperty\",\n      value: function (e) {\n        var t;\n        return null === (t = this.sessionPersistence) || void 0 === t ? void 0 : t.props[e];\n      }\n    }, {\n      key: \"toString\",\n      value: function () {\n        var e,\n          t = null !== (e = this.config.name) && void 0 !== e ? e : kr;\n        return t !== kr && (t = kr + \".\" + t), t;\n      }\n    }, {\n      key: \"_gdpr_init\",\n      value: function () {\n        \"localStorage\" === this.config.opt_out_capturing_persistence_type && ze.is_supported() && (!this.has_opted_in_capturing() && this.has_opted_in_capturing({\n          persistence_type: \"cookie\"\n        }) && this.opt_in_capturing({\n          enable_persistence: !1\n        }), !this.has_opted_out_capturing() && this.has_opted_out_capturing({\n          persistence_type: \"cookie\"\n        }) && this.opt_out_capturing({\n          clear_persistence: !1\n        }), this.clear_opt_in_out_capturing({\n          persistence_type: \"cookie\",\n          enable_persistence: !1\n        })), this.has_opted_out_capturing() ? this._gdpr_update_persistence({\n          clear_persistence: !0\n        }) : this.has_opted_in_capturing() || !this.config.opt_out_capturing_by_default && !Ve.get(\"ph_optout\") || (Ve.remove(\"ph_optout\"), this.opt_out_capturing({\n          clear_persistence: this.config.opt_out_persistence_by_default\n        }));\n      }\n    }, {\n      key: \"_gdpr_update_persistence\",\n      value: function (e) {\n        var t, n, r, i, o;\n        if (e && e.clear_persistence) r = !0;else {\n          if (!e || !e.enable_persistence) return;\n          r = !1;\n        }\n        this.config.disable_persistence || (null === (t = this.persistence) || void 0 === t ? void 0 : t.disabled) === r || null === (i = this.persistence) || void 0 === i || i.set_disabled(r);\n        this.config.disable_persistence || (null === (n = this.sessionPersistence) || void 0 === n ? void 0 : n.disabled) === r || null === (o = this.sessionPersistence) || void 0 === o || o.set_disabled(r);\n      }\n    }, {\n      key: \"_gdpr_call_func\",\n      value: function (e, t) {\n        return t = D({\n          capture: this.capture.bind(this),\n          persistence_type: this.config.opt_out_capturing_persistence_type,\n          cookie_prefix: this.config.opt_out_capturing_cookie_prefix,\n          cookie_expiration: this.config.cookie_expiration,\n          cross_subdomain_cookie: this.config.cross_subdomain_cookie,\n          secure_cookie: this.config.secure_cookie\n        }, t || {}), ze.is_supported() || \"localStorage\" !== t.persistence_type || (t.persistence_type = \"cookie\"), e(this.config.token, {\n          capture: t.capture,\n          captureEventName: t.capture_event_name,\n          captureProperties: t.capture_properties,\n          persistenceType: t.persistence_type,\n          persistencePrefix: t.cookie_prefix,\n          cookieExpiration: t.cookie_expiration,\n          crossSubdomainCookie: t.cross_subdomain_cookie,\n          secureCookie: t.secure_cookie\n        });\n      }\n    }, {\n      key: \"opt_in_capturing\",\n      value: function (e) {\n        e = D({\n          enable_persistence: !0\n        }, e || {}), this._gdpr_call_func(xt, e), this._gdpr_update_persistence(e);\n      }\n    }, {\n      key: \"opt_out_capturing\",\n      value: function (e) {\n        var t = D({\n          clear_persistence: !0\n        }, e || {});\n        this._gdpr_call_func(Pt, t), this._gdpr_update_persistence(t);\n      }\n    }, {\n      key: \"has_opted_in_capturing\",\n      value: function (e) {\n        return this._gdpr_call_func(Ft, e);\n      }\n    }, {\n      key: \"has_opted_out_capturing\",\n      value: function (e) {\n        return this._gdpr_call_func(It, e);\n      }\n    }, {\n      key: \"clear_opt_in_out_capturing\",\n      value: function (e) {\n        var t = D({\n          enable_persistence: !0\n        }, null != e ? e : {});\n        this._gdpr_call_func(Ot, t), this._gdpr_update_persistence(t);\n      }\n    }, {\n      key: \"debug\",\n      value: function (e) {\n        !1 === e ? (S.console.log(\"You've disabled debug mode.\"), localStorage && localStorage.removeItem(\"ph_debug\"), this.set_config({\n          debug: !1\n        })) : (S.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"), localStorage && localStorage.setItem(\"ph_debug\", \"true\"), this.set_config({\n          debug: !0\n        }));\n      }\n    }]), e;\n  }();\n!function (e, t) {\n  for (var n = 0; n < t.length; n++) e.prototype[t[n]] = W(e.prototype[t[n]]);\n}(Fr, [\"identify\"]);\nvar Ir = {},\n  Or = function () {\n    pr.init = function (e, t, n) {\n      if (n) return pr[n] || (pr[n] = Ir[n] = Pr(e || \"\", t || {}, n, function (e) {\n        pr[n] = Ir[n] = e, e._loaded();\n      })), pr[n];\n      var r = pr;\n      return Ir[kr] ? r = Ir[kr] : e && (r = Pr(e, t || {}, kr, function (e) {\n        Ir[kr] = e, e._loaded();\n      }), Ir[kr] = r), pr = r, hr === fr.INIT_SNIPPET && (S[kr] = pr), C(Ir, function (e, t) {\n        t !== kr && (pr[t] = e);\n      }), r;\n    };\n  },\n  $r = function () {\n    function e() {\n      e.done || (e.done = !0, Er = !1, C(Ir, function (e) {\n        e._dom_loaded();\n      }));\n    }\n    x.addEventListener && (\"complete\" === x.readyState ? e() : x.addEventListener(\"DOMContentLoaded\", e, !1)), re(S, \"load\", e, !0);\n  };\nvar Rr = (hr = fr.INIT_MODULE, pr = new Fr(), Or(), pr.init(), $r(), pr);\nexport { Zt as Compression, Fr as PostHog, Rr as default, Rr as posthog };\n//# sourceMappingURL=es.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}