{"ast":null,"code":"import $8NyvN$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport { forwardRef as $8NyvN$forwardRef, useState as $8NyvN$useState, createElement as $8NyvN$createElement, useEffect as $8NyvN$useEffect } from \"react\";\nimport { createContextScope as $8NyvN$createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef as $8NyvN$useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect as $8NyvN$useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive as $8NyvN$Primitive } from \"@radix-ui/react-primitive\";\n\n/* -------------------------------------------------------------------------------------------------\n * Avatar\n * -----------------------------------------------------------------------------------------------*/\nconst $cddcb0b647441e34$var$AVATAR_NAME = 'Avatar';\nconst [$cddcb0b647441e34$var$createAvatarContext, $cddcb0b647441e34$export$90370d16b488820f] = $8NyvN$createContextScope($cddcb0b647441e34$var$AVATAR_NAME);\nconst [$cddcb0b647441e34$var$AvatarProvider, $cddcb0b647441e34$var$useAvatarContext] = $cddcb0b647441e34$var$createAvatarContext($cddcb0b647441e34$var$AVATAR_NAME);\nconst $cddcb0b647441e34$export$e2255cf6045e8d47 = /*#__PURE__*/$8NyvN$forwardRef((props, forwardedRef) => {\n  const {\n    __scopeAvatar: __scopeAvatar,\n    ...avatarProps\n  } = props;\n  const [imageLoadingStatus, setImageLoadingStatus] = $8NyvN$useState('idle');\n  return /*#__PURE__*/$8NyvN$createElement($cddcb0b647441e34$var$AvatarProvider, {\n    scope: __scopeAvatar,\n    imageLoadingStatus: imageLoadingStatus,\n    onImageLoadingStatusChange: setImageLoadingStatus\n  }, /*#__PURE__*/$8NyvN$createElement($8NyvN$Primitive.span, $8NyvN$babelruntimehelpersesmextends({}, avatarProps, {\n    ref: forwardedRef\n  })));\n});\n/*#__PURE__*/\nObject.assign($cddcb0b647441e34$export$e2255cf6045e8d47, {\n  displayName: $cddcb0b647441e34$var$AVATAR_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * AvatarImage\n * -----------------------------------------------------------------------------------------------*/\nconst $cddcb0b647441e34$var$IMAGE_NAME = 'AvatarImage';\nconst $cddcb0b647441e34$export$2cd8ae1985206fe8 = /*#__PURE__*/$8NyvN$forwardRef((props, forwardedRef) => {\n  const {\n    __scopeAvatar: __scopeAvatar,\n    src: src,\n    onLoadingStatusChange = () => {},\n    ...imageProps\n  } = props;\n  const context = $cddcb0b647441e34$var$useAvatarContext($cddcb0b647441e34$var$IMAGE_NAME, __scopeAvatar);\n  const imageLoadingStatus = $cddcb0b647441e34$var$useImageLoadingStatus(src);\n  const handleLoadingStatusChange = $8NyvN$useCallbackRef(status => {\n    onLoadingStatusChange(status);\n    context.onImageLoadingStatusChange(status);\n  });\n  $8NyvN$useLayoutEffect(() => {\n    if (imageLoadingStatus !== 'idle') handleLoadingStatusChange(imageLoadingStatus);\n  }, [imageLoadingStatus, handleLoadingStatusChange]);\n  return imageLoadingStatus === 'loaded' ? /*#__PURE__*/$8NyvN$createElement($8NyvN$Primitive.img, $8NyvN$babelruntimehelpersesmextends({}, imageProps, {\n    ref: forwardedRef,\n    src: src\n  })) : null;\n});\n/*#__PURE__*/\nObject.assign($cddcb0b647441e34$export$2cd8ae1985206fe8, {\n  displayName: $cddcb0b647441e34$var$IMAGE_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * AvatarFallback\n * -----------------------------------------------------------------------------------------------*/\nconst $cddcb0b647441e34$var$FALLBACK_NAME = 'AvatarFallback';\nconst $cddcb0b647441e34$export$69fffb6a9571fbfe = /*#__PURE__*/$8NyvN$forwardRef((props, forwardedRef) => {\n  const {\n    __scopeAvatar: __scopeAvatar,\n    delayMs: delayMs,\n    ...fallbackProps\n  } = props;\n  const context = $cddcb0b647441e34$var$useAvatarContext($cddcb0b647441e34$var$FALLBACK_NAME, __scopeAvatar);\n  const [canRender, setCanRender] = $8NyvN$useState(delayMs === undefined);\n  $8NyvN$useEffect(() => {\n    if (delayMs !== undefined) {\n      const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n      return () => window.clearTimeout(timerId);\n    }\n  }, [delayMs]);\n  return canRender && context.imageLoadingStatus !== 'loaded' ? /*#__PURE__*/$8NyvN$createElement($8NyvN$Primitive.span, $8NyvN$babelruntimehelpersesmextends({}, fallbackProps, {\n    ref: forwardedRef\n  })) : null;\n});\n/*#__PURE__*/\nObject.assign($cddcb0b647441e34$export$69fffb6a9571fbfe, {\n  displayName: $cddcb0b647441e34$var$FALLBACK_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/\nfunction $cddcb0b647441e34$var$useImageLoadingStatus(src) {\n  const [loadingStatus, setLoadingStatus] = $8NyvN$useState('idle');\n  $8NyvN$useEffect(() => {\n    if (!src) {\n      setLoadingStatus('error');\n      return;\n    }\n    let isMounted = true;\n    const image = new window.Image();\n    const updateStatus = status => () => {\n      if (!isMounted) return;\n      setLoadingStatus(status);\n    };\n    setLoadingStatus('loading');\n    image.onload = updateStatus('loaded');\n    image.onerror = updateStatus('error');\n    image.src = src;\n    return () => {\n      isMounted = false;\n    };\n  }, [src]);\n  return loadingStatus;\n}\nconst $cddcb0b647441e34$export$be92b6f5f03c0fe9 = $cddcb0b647441e34$export$e2255cf6045e8d47;\nconst $cddcb0b647441e34$export$3e431a229df88919 = $cddcb0b647441e34$export$2cd8ae1985206fe8;\nconst $cddcb0b647441e34$export$fb8d7f40caaeea67 = $cddcb0b647441e34$export$69fffb6a9571fbfe;\nexport { $cddcb0b647441e34$export$90370d16b488820f as createAvatarScope, $cddcb0b647441e34$export$e2255cf6045e8d47 as Avatar, $cddcb0b647441e34$export$2cd8ae1985206fe8 as AvatarImage, $cddcb0b647441e34$export$69fffb6a9571fbfe as AvatarFallback, $cddcb0b647441e34$export$be92b6f5f03c0fe9 as Root, $cddcb0b647441e34$export$3e431a229df88919 as Image, $cddcb0b647441e34$export$fb8d7f40caaeea67 as Fallback };\n//# sourceMappingURL=index.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}