{"ast":null,"code":"import $eRSIW$babelruntimehelpersesmextends from \"@babel/runtime/helpers/esm/extends\";\nimport { useRef as $eRSIW$useRef, useCallback as $eRSIW$useCallback, useEffect as $eRSIW$useEffect, createElement as $eRSIW$createElement, forwardRef as $eRSIW$forwardRef, useState as $eRSIW$useState } from \"react\";\nimport { composeEventHandlers as $eRSIW$composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope as $eRSIW$createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState as $eRSIW$useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useComposedRefs as $eRSIW$useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createPopperScope as $eRSIW$createPopperScope, Root as $eRSIW$Root, Anchor as $eRSIW$Anchor, Content as $eRSIW$Content, Arrow as $eRSIW$Arrow } from \"@radix-ui/react-popper\";\nimport { Portal as $eRSIW$Portal } from \"@radix-ui/react-portal\";\nimport { Presence as $eRSIW$Presence } from \"@radix-ui/react-presence\";\nimport { Primitive as $eRSIW$Primitive } from \"@radix-ui/react-primitive\";\nimport { DismissableLayer as $eRSIW$DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\n\n/* -------------------------------------------------------------------------------------------------\n * HoverCard\n * -----------------------------------------------------------------------------------------------*/\nlet $cef8881cdc69808e$var$originalBodyUserSelect;\nconst $cef8881cdc69808e$var$HOVERCARD_NAME = 'HoverCard';\nconst [$cef8881cdc69808e$var$createHoverCardContext, $cef8881cdc69808e$export$47b6998a836b7260] = $eRSIW$createContextScope($cef8881cdc69808e$var$HOVERCARD_NAME, [$eRSIW$createPopperScope]);\nconst $cef8881cdc69808e$var$usePopperScope = $eRSIW$createPopperScope();\nconst [$cef8881cdc69808e$var$HoverCardProvider, $cef8881cdc69808e$var$useHoverCardContext] = $cef8881cdc69808e$var$createHoverCardContext($cef8881cdc69808e$var$HOVERCARD_NAME);\nconst $cef8881cdc69808e$export$57a077cc9fbe653e = props => {\n  const {\n    __scopeHoverCard: __scopeHoverCard,\n    children: children,\n    open: openProp,\n    defaultOpen: defaultOpen,\n    onOpenChange: onOpenChange,\n    openDelay = 700,\n    closeDelay = 300\n  } = props;\n  const popperScope = $cef8881cdc69808e$var$usePopperScope(__scopeHoverCard);\n  const openTimerRef = $eRSIW$useRef(0);\n  const closeTimerRef = $eRSIW$useRef(0);\n  const hasSelectionRef = $eRSIW$useRef(false);\n  const isPointerDownOnContentRef = $eRSIW$useRef(false);\n  const [open = false, setOpen] = $eRSIW$useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen,\n    onChange: onOpenChange\n  });\n  const handleOpen = $eRSIW$useCallback(() => {\n    clearTimeout(closeTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => setOpen(true), openDelay);\n  }, [openDelay, setOpen]);\n  const handleClose = $eRSIW$useCallback(() => {\n    clearTimeout(openTimerRef.current);\n    if (!hasSelectionRef.current && !isPointerDownOnContentRef.current) closeTimerRef.current = window.setTimeout(() => setOpen(false), closeDelay);\n  }, [closeDelay, setOpen]);\n  const handleDismiss = $eRSIW$useCallback(() => setOpen(false), [setOpen]); // cleanup any queued state updates on unmount\n  $eRSIW$useEffect(() => {\n    return () => {\n      clearTimeout(openTimerRef.current);\n      clearTimeout(closeTimerRef.current);\n    };\n  }, []);\n  return /*#__PURE__*/$eRSIW$createElement($cef8881cdc69808e$var$HoverCardProvider, {\n    scope: __scopeHoverCard,\n    open: open,\n    onOpenChange: setOpen,\n    onOpen: handleOpen,\n    onClose: handleClose,\n    onDismiss: handleDismiss,\n    hasSelectionRef: hasSelectionRef,\n    isPointerDownOnContentRef: isPointerDownOnContentRef\n  }, /*#__PURE__*/$eRSIW$createElement($eRSIW$Root, popperScope, children));\n};\n/*#__PURE__*/\nObject.assign($cef8881cdc69808e$export$57a077cc9fbe653e, {\n  displayName: $cef8881cdc69808e$var$HOVERCARD_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * HoverCardTrigger\n * -----------------------------------------------------------------------------------------------*/\nconst $cef8881cdc69808e$var$TRIGGER_NAME = 'HoverCardTrigger';\nconst $cef8881cdc69808e$export$ef9f7fd8e4ba882f = /*#__PURE__*/$eRSIW$forwardRef((props, forwardedRef) => {\n  const {\n    __scopeHoverCard: __scopeHoverCard,\n    ...triggerProps\n  } = props;\n  const context = $cef8881cdc69808e$var$useHoverCardContext($cef8881cdc69808e$var$TRIGGER_NAME, __scopeHoverCard);\n  const popperScope = $cef8881cdc69808e$var$usePopperScope(__scopeHoverCard);\n  return /*#__PURE__*/$eRSIW$createElement($eRSIW$Anchor, $eRSIW$babelruntimehelpersesmextends({\n    asChild: true\n  }, popperScope), /*#__PURE__*/$eRSIW$createElement($eRSIW$Primitive.a, $eRSIW$babelruntimehelpersesmextends({\n    \"data-state\": context.open ? 'open' : 'closed'\n  }, triggerProps, {\n    ref: forwardedRef,\n    onPointerEnter: $eRSIW$composeEventHandlers(props.onPointerEnter, $cef8881cdc69808e$var$excludeTouch(context.onOpen)),\n    onPointerLeave: $eRSIW$composeEventHandlers(props.onPointerLeave, $cef8881cdc69808e$var$excludeTouch(context.onClose)),\n    onFocus: $eRSIW$composeEventHandlers(props.onFocus, context.onOpen),\n    onBlur: $eRSIW$composeEventHandlers(props.onBlur, context.onClose) // prevent focus event on touch devices\n    ,\n\n    onTouchStart: $eRSIW$composeEventHandlers(props.onTouchStart, event => event.preventDefault())\n  })));\n});\n/*#__PURE__*/\nObject.assign($cef8881cdc69808e$export$ef9f7fd8e4ba882f, {\n  displayName: $cef8881cdc69808e$var$TRIGGER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * HoverCardPortal\n * -----------------------------------------------------------------------------------------------*/\nconst $cef8881cdc69808e$var$PORTAL_NAME = 'HoverCardPortal';\nconst [$cef8881cdc69808e$var$PortalProvider, $cef8881cdc69808e$var$usePortalContext] = $cef8881cdc69808e$var$createHoverCardContext($cef8881cdc69808e$var$PORTAL_NAME, {\n  forceMount: undefined\n});\nconst $cef8881cdc69808e$export$b384c6e0a789f88b = props => {\n  const {\n    __scopeHoverCard: __scopeHoverCard,\n    forceMount: forceMount,\n    children: children,\n    container: container\n  } = props;\n  const context = $cef8881cdc69808e$var$useHoverCardContext($cef8881cdc69808e$var$PORTAL_NAME, __scopeHoverCard);\n  return /*#__PURE__*/$eRSIW$createElement($cef8881cdc69808e$var$PortalProvider, {\n    scope: __scopeHoverCard,\n    forceMount: forceMount\n  }, /*#__PURE__*/$eRSIW$createElement($eRSIW$Presence, {\n    present: forceMount || context.open\n  }, /*#__PURE__*/$eRSIW$createElement($eRSIW$Portal, {\n    asChild: true,\n    container: container\n  }, children)));\n};\n/*#__PURE__*/\nObject.assign($cef8881cdc69808e$export$b384c6e0a789f88b, {\n  displayName: $cef8881cdc69808e$var$PORTAL_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * HoverCardContent\n * -----------------------------------------------------------------------------------------------*/\nconst $cef8881cdc69808e$var$CONTENT_NAME = 'HoverCardContent';\nconst $cef8881cdc69808e$export$aa4724a5938c586 = /*#__PURE__*/$eRSIW$forwardRef((props, forwardedRef) => {\n  const portalContext = $cef8881cdc69808e$var$usePortalContext($cef8881cdc69808e$var$CONTENT_NAME, props.__scopeHoverCard);\n  const {\n    forceMount = portalContext.forceMount,\n    ...contentProps\n  } = props;\n  const context = $cef8881cdc69808e$var$useHoverCardContext($cef8881cdc69808e$var$CONTENT_NAME, props.__scopeHoverCard);\n  return /*#__PURE__*/$eRSIW$createElement($eRSIW$Presence, {\n    present: forceMount || context.open\n  }, /*#__PURE__*/$eRSIW$createElement($cef8881cdc69808e$var$HoverCardContentImpl, $eRSIW$babelruntimehelpersesmextends({\n    \"data-state\": context.open ? 'open' : 'closed'\n  }, contentProps, {\n    onPointerEnter: $eRSIW$composeEventHandlers(props.onPointerEnter, $cef8881cdc69808e$var$excludeTouch(context.onOpen)),\n    onPointerLeave: $eRSIW$composeEventHandlers(props.onPointerLeave, $cef8881cdc69808e$var$excludeTouch(context.onClose)),\n    ref: forwardedRef\n  })));\n});\n/*#__PURE__*/\nObject.assign($cef8881cdc69808e$export$aa4724a5938c586, {\n  displayName: $cef8881cdc69808e$var$CONTENT_NAME\n});\n/* ---------------------------------------------------------------------------------------------- */\nconst $cef8881cdc69808e$var$HoverCardContentImpl = /*#__PURE__*/$eRSIW$forwardRef((props, forwardedRef) => {\n  const {\n    __scopeHoverCard: __scopeHoverCard,\n    onEscapeKeyDown: onEscapeKeyDown,\n    onPointerDownOutside: onPointerDownOutside,\n    onFocusOutside: onFocusOutside,\n    onInteractOutside: onInteractOutside,\n    ...contentProps\n  } = props;\n  const context = $cef8881cdc69808e$var$useHoverCardContext($cef8881cdc69808e$var$CONTENT_NAME, __scopeHoverCard);\n  const popperScope = $cef8881cdc69808e$var$usePopperScope(__scopeHoverCard);\n  const ref = $eRSIW$useRef(null);\n  const composedRefs = $eRSIW$useComposedRefs(forwardedRef, ref);\n  const [containSelection, setContainSelection] = $eRSIW$useState(false);\n  $eRSIW$useEffect(() => {\n    if (containSelection) {\n      const body = document.body; // Safari requires prefix\n      $cef8881cdc69808e$var$originalBodyUserSelect = body.style.userSelect || body.style.webkitUserSelect;\n      body.style.userSelect = 'none';\n      body.style.webkitUserSelect = 'none';\n      return () => {\n        body.style.userSelect = $cef8881cdc69808e$var$originalBodyUserSelect;\n        body.style.webkitUserSelect = $cef8881cdc69808e$var$originalBodyUserSelect;\n      };\n    }\n  }, [containSelection]);\n  $eRSIW$useEffect(() => {\n    if (ref.current) {\n      const handlePointerUp = () => {\n        setContainSelection(false);\n        context.isPointerDownOnContentRef.current = false; // Delay a frame to ensure we always access the latest selection\n        setTimeout(() => {\n          var _document$getSelectio;\n          const hasSelection = ((_document$getSelectio = document.getSelection()) === null || _document$getSelectio === void 0 ? void 0 : _document$getSelectio.toString()) !== '';\n          if (hasSelection) context.hasSelectionRef.current = true;\n        });\n      };\n      document.addEventListener('pointerup', handlePointerUp);\n      return () => {\n        document.removeEventListener('pointerup', handlePointerUp);\n        context.hasSelectionRef.current = false;\n        context.isPointerDownOnContentRef.current = false;\n      };\n    }\n  }, [context.isPointerDownOnContentRef, context.hasSelectionRef]);\n  $eRSIW$useEffect(() => {\n    if (ref.current) {\n      const tabbables = $cef8881cdc69808e$var$getTabbableNodes(ref.current);\n      tabbables.forEach(tabbable => tabbable.setAttribute('tabindex', '-1'));\n    }\n  });\n  return /*#__PURE__*/$eRSIW$createElement($eRSIW$DismissableLayer, {\n    asChild: true,\n    disableOutsidePointerEvents: false,\n    onInteractOutside: onInteractOutside,\n    onEscapeKeyDown: onEscapeKeyDown,\n    onPointerDownOutside: onPointerDownOutside,\n    onFocusOutside: $eRSIW$composeEventHandlers(onFocusOutside, event => {\n      event.preventDefault();\n    }),\n    onDismiss: context.onDismiss\n  }, /*#__PURE__*/$eRSIW$createElement($eRSIW$Content, $eRSIW$babelruntimehelpersesmextends({}, popperScope, contentProps, {\n    onPointerDown: $eRSIW$composeEventHandlers(contentProps.onPointerDown, event => {\n      // Contain selection to current layer\n      if (event.currentTarget.contains(event.target)) setContainSelection(true);\n      context.hasSelectionRef.current = false;\n      context.isPointerDownOnContentRef.current = true;\n    }),\n    ref: composedRefs,\n    style: {\n      ...contentProps.style,\n      userSelect: containSelection ? 'text' : undefined,\n      // Safari requires prefix\n      WebkitUserSelect: containSelection ? 'text' : undefined,\n      '--radix-hover-card-content-transform-origin': 'var(--radix-popper-transform-origin)',\n      '--radix-hover-card-content-available-width': 'var(--radix-popper-available-width)',\n      '--radix-hover-card-content-available-height': 'var(--radix-popper-available-height)',\n      '--radix-hover-card-trigger-width': 'var(--radix-popper-anchor-width)',\n      '--radix-hover-card-trigger-height': 'var(--radix-popper-anchor-height)'\n    }\n  })));\n});\n/* -------------------------------------------------------------------------------------------------\n * HoverCardArrow\n * -----------------------------------------------------------------------------------------------*/\nconst $cef8881cdc69808e$var$ARROW_NAME = 'HoverCardArrow';\nconst $cef8881cdc69808e$export$b9744d3e7456d806 = /*#__PURE__*/$eRSIW$forwardRef((props, forwardedRef) => {\n  const {\n    __scopeHoverCard: __scopeHoverCard,\n    ...arrowProps\n  } = props;\n  const popperScope = $cef8881cdc69808e$var$usePopperScope(__scopeHoverCard);\n  return /*#__PURE__*/$eRSIW$createElement($eRSIW$Arrow, $eRSIW$babelruntimehelpersesmextends({}, popperScope, arrowProps, {\n    ref: forwardedRef\n  }));\n});\n/*#__PURE__*/\nObject.assign($cef8881cdc69808e$export$b9744d3e7456d806, {\n  displayName: $cef8881cdc69808e$var$ARROW_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/\nfunction $cef8881cdc69808e$var$excludeTouch(eventHandler) {\n  return event => event.pointerType === 'touch' ? undefined : eventHandler();\n}\n/**\n * Returns a list of nodes that can be in the tab sequence.\n * @see: https://developer.mozilla.org/en-US/docs/Web/API/TreeWalker\n */\nfunction $cef8881cdc69808e$var$getTabbableNodes(container) {\n  const nodes = [];\n  const walker = document.createTreeWalker(container, NodeFilter.SHOW_ELEMENT, {\n    acceptNode: node => {\n      // `.tabIndex` is not the same as the `tabindex` attribute. It works on the\n      // runtime's understanding of tabbability, so this automatically accounts\n      // for any kind of element that could be tabbed to.\n      return node.tabIndex >= 0 ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP;\n    }\n  });\n  while (walker.nextNode()) nodes.push(walker.currentNode);\n  return nodes;\n}\nconst $cef8881cdc69808e$export$be92b6f5f03c0fe9 = $cef8881cdc69808e$export$57a077cc9fbe653e;\nconst $cef8881cdc69808e$export$41fb9f06171c75f4 = $cef8881cdc69808e$export$ef9f7fd8e4ba882f;\nconst $cef8881cdc69808e$export$602eac185826482c = $cef8881cdc69808e$export$b384c6e0a789f88b;\nconst $cef8881cdc69808e$export$7c6e2c02157bb7d2 = $cef8881cdc69808e$export$aa4724a5938c586;\nconst $cef8881cdc69808e$export$21b07c8f274aebd5 = $cef8881cdc69808e$export$b9744d3e7456d806;\nexport { $cef8881cdc69808e$export$47b6998a836b7260 as createHoverCardScope, $cef8881cdc69808e$export$57a077cc9fbe653e as HoverCard, $cef8881cdc69808e$export$ef9f7fd8e4ba882f as HoverCardTrigger, $cef8881cdc69808e$export$b384c6e0a789f88b as HoverCardPortal, $cef8881cdc69808e$export$aa4724a5938c586 as HoverCardContent, $cef8881cdc69808e$export$b9744d3e7456d806 as HoverCardArrow, $cef8881cdc69808e$export$be92b6f5f03c0fe9 as Root, $cef8881cdc69808e$export$41fb9f06171c75f4 as Trigger, $cef8881cdc69808e$export$602eac185826482c as Portal, $cef8881cdc69808e$export$7c6e2c02157bb7d2 as Content, $cef8881cdc69808e$export$21b07c8f274aebd5 as Arrow };\n//# sourceMappingURL=index.mjs.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}